var ts=Object.defineProperty;var ns=(t,e,n)=>e in t?ts(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var st=(t,e,n)=>(ns(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function y(){}function rs(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Br(t){return t()}function Gn(){return Object.create(null)}function We(t){t.forEach(Br)}function pn(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let wt;function qn(t,e){return t===e?!0:(wt||(wt=document.createElement("a")),wt.href=e,t===wt.href)}function os(t){return Object.keys(t).length===0}function Vr(t,...e){if(t==null){for(const r of e)r(void 0);return y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(t,e,n){t.$$.on_destroy.push(Vr(e,n))}function Ct(t,e,n){return t.set(n),e}function w(t,e){t.appendChild(e)}function F(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function ut(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ge(t){return document.createTextNode(t)}function Z(){return ge(" ")}function Wr(){return ge("")}function Ue(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mn(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function ss(t){return t===""?null:+t}function is(t){return Array.from(t.childNodes)}function ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function Se(t,e){t.value=e??""}function Je(t,e,n){t.classList.toggle(e,!!n)}function as(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}let at;function Oe(t){at=t}function gn(){if(!at)throw new Error("Function called outside component initialization");return at}function Le(t){gn().$$.on_mount.push(t)}function cs(){const t=gn();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=as(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,s)}),!s.defaultPrevented}return!0}}function dt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Xe=[],ce=[];let Qe=[];const Qt=[],ls=Promise.resolve();let Jt=!1;function us(){Jt||(Jt=!0,ls.then(_n))}function en(t){Qe.push(t)}function ue(t){Qt.push(t)}const Yt=new Set;let He=0;function _n(){if(He!==0)return;const t=at;do{try{for(;He<Xe.length;){const e=Xe[He];He++,Oe(e),ds(e.$$)}}catch(e){throw Xe.length=0,He=0,e}for(Oe(null),Xe.length=0,He=0;ce.length;)ce.pop()();for(let e=0;e<Qe.length;e+=1){const n=Qe[e];Yt.has(n)||(Yt.add(n),n())}Qe.length=0}while(Xe.length);for(;Qt.length;)Qt.pop()();Jt=!1,Yt.clear(),Oe(t)}function ds(t){if(t.fragment!==null){t.update(),We(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(en)}}function fs(t){const e=[],n=[];Qe.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Qe=e}const At=new Set;let Pe;function vn(){Pe={r:0,c:[],p:Pe}}function wn(){Pe.r||We(Pe.c),Pe=Pe.p}function L(t,e){t&&t.i&&(At.delete(t),t.i(e))}function D(t,e,n,r){if(t&&t.o){if(At.has(t))return;At.add(t),Pe.c.push(()=>{At.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function _e(t,e){const n=e.token={};function r(o,s,i,a){if(e.token!==n)return;e.resolved=a;let c=e.ctx;i!==void 0&&(c=c.slice(),c[i]=a);const l=o&&(e.current=o)(c);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,f)=>{f!==s&&d&&(vn(),D(d,1,1,()=>{e.blocks[f]===d&&(e.blocks[f]=null)}),wn())}):e.block.d(1),l.c(),L(l,1),l.m(e.mount(),e.anchor),u=!0),e.block=l,e.blocks&&(e.blocks[s]=l),u&&_n()}if(rs(t)){const o=gn();if(t.then(s=>{Oe(o),r(e.then,1,e.value,s),Oe(null)},s=>{if(Oe(o),r(e.catch,2,e.error,s),Oe(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function tt(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}function Ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function de(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function q(t){t&&t.c()}function z(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),en(()=>{const s=t.$$.on_mount.map(Br).filter(pn);t.$$.on_destroy?t.$$.on_destroy.push(...s):We(s),t.$$.on_mount=[]}),o.forEach(en)}function G(t,e){const n=t.$$;n.fragment!==null&&(fs(n.after_update),We(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function hs(t,e){t.$$.dirty[0]===-1&&(Xe.push(t),us(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,n,r,o,s,i,a=[-1]){const c=at;Oe(t);const l=t.$$={fragment:null,ctx:[],props:s,update:y,not_equal:o,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Gn(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};i&&i(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(d,f,...m)=>{const h=m.length?m[0]:f;return l.ctx&&o(l.ctx[d],l.ctx[d]=h)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](h),u&&hs(t,d)),f}):[],l.update(),u=!0,We(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const d=is(e.target);l.fragment&&l.fragment.l(d),d.forEach(W)}else l.fragment&&l.fragment.c();e.intro&&L(t.$$.fragment),z(t,e.target,e.anchor),_n()}Oe(c)}class ee{constructor(){st(this,"$$");st(this,"$$set")}$destroy(){G(this,1),this.$destroy=y}$on(e,n){if(!pn(n))return y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!os(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ps="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ps);const Ye=[];function ft(t,e){return{subscribe:ht(t,e).subscribe}}function ht(t,e=y){let n;const r=new Set;function o(a){if(Q(t,a)&&(t=a,n)){const c=!Ye.length;for(const l of r)l[1](),Ye.push(l,t);if(c){for(let l=0;l<Ye.length;l+=2)Ye[l][0](Ye[l+1]);Ye.length=0}}}function s(a){o(a(t))}function i(a,c=y){const l=[a,c];return r.add(l),r.size===1&&(n=e(o,s)||y),a(t),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}function Ne(t,e,n){const r=!Array.isArray(t),o=r?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return ft(n,(i,a)=>{let c=!1;const l=[];let u=0,d=y;const f=()=>{if(u)return;d();const h=e(r?l[0]:l,i,a);s?i(h):d=pn(h)?h:y},m=o.map((h,p)=>Vr(h,v=>{l[p]=v,u&=~(1<<p),c&&f()},()=>{u|=1<<p}));return c=!0,f(),function(){We(m),d(),c=!1}})}const ms="assets/hiss-generator-e5be4906.js";async function gs(t){let e;try{e=new AudioWorkletNode(t,"hiss-generator")}catch{try{await t.audioWorklet.addModule(ms),e=new AudioWorkletNode(t,"hiss-generator")}catch(n){throw console.error("[ERROR] createHissProcessor.ts - Unable to create worklet node >>> ",n),n}}return e}const _s="assets/noise-suppressor-9a091570.js",vs="assets/rnnoise-processor-1412f1f7.wasm",Ke=class Ke extends AudioWorkletNode{constructor(n,r="noise-suppressor",o={channelCount:1,numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1],processorOptions:{module:Ke.module}}){super(n,r,o);st(this,"onstatus");this.port.onmessage=({data:s})=>{const i=Object.assign(new Event("status"),s);this.dispatchEvent(i),this.onstatus&&this.onstatus(i)}}static async compile(n){return WebAssembly.compileStreaming?WebAssembly.compileStreaming(n):WebAssembly.compile(await(await n).arrayBuffer())}static async register(n){Ke.module=await Ke.compile(fetch(vs)),await n.audioWorklet.addModule(_s)}update(n){this.port.postMessage(n)}};st(Ke,"module");let it=Ke;async function ws(t){let e;try{e=new it(t)}catch{try{await it.register(t),e=new it(t)}catch(n){throw console.error("[ERROR] createNoiseSuppressionProcessor.ts - Unable to create worklet node >>",n),n}}return e}let Hn=!0;async function xr(t=[]){if(!Hn)return;Hn=!1;const e={video:!1,audio:!1};(t.includes("audioinput")||t.includes("audiooutput"))&&(e.audio=!0),t.includes("videoinput")&&(e.video=!0),(await navigator.mediaDevices.getUserMedia(e)).getTracks().forEach(r=>r.stop())}async function Fr(t=[]){await xr(t);const e=navigator.mediaDevices.getSupportedConstraints(),n=new Map;if(t.includes("audioinput")||t.includes("audiooutput")){const{sampleRate:r,sampleSize:o,echoCancellation:s,autoGainControl:i,noiseSuppression:a,latency:c,channelCount:l,suppressLocalAudioPlayback:u,volume:d}=e,f={sampleRate:r,sampleSize:o,echoCancellation:s,autoGainControl:i,noiseSuppression:a,latency:c,channelCount:l,suppressLocalAudioPlayback:u,volume:d};n.set("audio",[]);for(const m of Object.keys(f))f[m]&&n.get("audio").push(m)}if(t.includes("videoinput")){const{brightness:r,colorTemperature:o,contrast:s,displaySurface:i,exposureCompensation:a,exposureMode:c,exposureTime:l,focusDistance:u,focusMode:d,iso:f,pointsOfInterest:m,saturation:h,sharpness:p,pan:v,tilt:g,torch:A,whiteBalanceMode:b,zoom:k,width:C,height:M,frameRate:O,aspectRatio:E,facingMode:S,resizeMode:P}=e,T={brightness:r,colorTemperature:o,contrast:s,displaySurface:i,exposureCompensation:a,exposureMode:c,exposureTime:l,focusDistance:u,focusMode:d,iso:f,pointsOfInterest:m,saturation:h,sharpness:p,pan:v,tilt:g,torch:A,whiteBalanceMode:b,zoom:k,width:C,height:M,frameRate:O,aspectRatio:E,facingMode:S,resizeMode:P};n.set("video",[]);for(const V of Object.keys(T))T[V]&&n.get("video").push(V)}return n}async function Yn(t=[]){xr(t);const e=await navigator.mediaDevices.enumerateDevices(),n=new Map;return t.forEach(r=>{n.set(r,bs(e.filter(o=>o.kind===r)))}),n}function bs(t){const e=t.find(o=>o.deviceId==="default");let n=[],r=!0;return e?t.forEach(o=>{if(e.label!==o.label)if(e.label.includes(o.label)){const s={...o,deviceId:o.deviceId,groupId:o.groupId,kind:o.kind,label:e.label};n.push(s),r=!1}else n.push(o)}):n=t,r&&(n[0]={...n[0],deviceId:n[0].deviceId,groupId:n[0].groupId,kind:n[0].kind,label:"既定 - "+n[0].label}),n}async function Xn(t){const e=t===""||t==="default"?{audio:{channelCount:1,sampleRate:48e3,sampleSize:16,echoCancellation:!0,autoGainControl:!1,noiseSuppression:!1}}:{audio:{deviceId:{exact:t},channelCount:1,sampleRate:48e3,sampleSize:16,echoCancellation:!0,autoGainControl:!1,noiseSuppression:!1}},n=await navigator.mediaDevices.getUserMedia(e);return console.debug(`[DEBUG] mediaDevices.ts - getAudioInputMediaStream("${t}") >>> 
  - id: "${n.id}"
  - active: ${n.active}
  - # of Audio Tracks: ${n.getAudioTracks().length}`,n.getAudioTracks()[0]),n}async function Zn(t){const e=t===""||t==="default"?{video:!0}:{video:{deviceId:{exact:t}}};return await navigator.mediaDevices.getUserMedia(e)}const fe=ft(void 0,t=>{const e=new AudioContext({sampleRate:48e3});t(e)}),jr=Ne(fe,(t,e)=>{const n=new OscillatorNode(t);n.type="sine",n.frequency.setValueAtTime(220,t.currentTime),e(n)}),bn=Ne(fe,(t,e)=>{e(t.createGain())}),zr=Ne(fe,(t,e)=>{e(gs(t))}),Gr=Ne(fe,(t,e)=>{e(ws(t))}),yn=Ne(fe,(t,e)=>{e(t.createAnalyser())}),Ot=ht(""),Kn=ht("");let Qn=!0,Jn=!0;const ys=ft(Fr(["audioinput"]));ft(Fr(["videoinput"]));const En=ft(Yn(["audioinput"]),t=>{navigator.mediaDevices.ondevicechange=()=>{t(Yn(["audioinput"]))}}),qr=Ne([Ot,En],([t,e],n)=>{if(Qn){Qn=!1,n(Xn(t));return}e.then(r=>{r.get("audioinput").some(s=>s.deviceId===t)&&n(Xn(t))})});Ne([Ot,En],([t,e],n)=>{if(Jn){Jn=!1,n(Zn(""));return}e.then(r=>{r.get("videoinput").some(s=>s.deviceId===t)&&n(Zn(t))})});const Es=Ne([fe,qr],([t,e],n)=>{n(new Promise(r=>{e.then(o=>{r(t.createMediaStreamSource(o))})}))}),An=Ne(fe,(t,e)=>{e(t.createGain())}),As=Ne(fe,(t,e)=>{e(new MediaStreamAudioDestinationNode(t))}),tn=ht([]),nn=ht([]);function Ns(t){let e;return{c(){e=ge(t[1])},m(n,r){F(n,e,r)},p(n,r){r&2&&ye(e,n[1])},d(n){n&&W(e)}}}function Cs(t){let e;return{c(){e=ge(t[2])},m(n,r){F(n,e,r)},p(n,r){r&4&&ye(e,n[2])},d(n){n&&W(e)}}}function Os(t){let e,n,r;function o(a,c){return a[0]?Cs:Ns}let s=o(t),i=s(t);return{c(){e=N("button"),i.c(),_(e,"class","svelte-5r5hxc"),Je(e,"toggleON",t[0])},m(a,c){F(a,e,c),i.m(e,null),n||(r=Ue(e,"click",t[3]),n=!0)},p(a,[c]){s===(s=o(a))&&i?i.p(a,c):(i.d(1),i=s(a),i&&(i.c(),i.m(e,null))),c&1&&Je(e,"toggleON",a[0])},i:y,o:y,d(a){a&&W(e),i.d(),n=!1,r()}}}function Ms(t,e,n){let{toggleOnText:r="ON"}=e,{toggleOffText:o="OFF"}=e,{toggleON:s=!1}=e;const i=cs(),a=()=>{n(0,s=!s),i("click",{toggleON:s})};return t.$$set=c=>{"toggleOnText"in c&&n(1,r=c.toggleOnText),"toggleOffText"in c&&n(2,o=c.toggleOffText),"toggleON"in c&&n(0,s=c.toggleON)},[s,r,o,a]}class Dt extends ee{constructor(e){super(),J(this,e,Ms,Os,Q,{toggleOnText:1,toggleOffText:2,toggleON:0})}}function ks(t){let e,n,r,o,s,i;return{c(){e=ae("svg"),n=ae("path"),r=ae("path"),o=ae("path"),s=ae("path"),i=ae("path"),_(n,"stroke","none"),_(n,"d","M0 0h24v24H0z"),_(n,"fill","none"),_(r,"d","M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464"),_(o,"d","M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615"),_(s,"d","M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664"),_(i,"d","M3 3l18 18"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","icon icon-tabler icon-tabler-volume-off svelte-1ofi1r6"),_(e,"width",t[1]),_(e,"height",t[1]),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width","0.75"),_(e,"stroke","currentColor"),_(e,"fill","none"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round")},m(a,c){F(a,e,c),w(e,n),w(e,r),w(e,o),w(e,s),w(e,i)},p(a,c){c&2&&_(e,"width",a[1]),c&2&&_(e,"height",a[1])},d(a){a&&W(e)}}}function Is(t){let e,n,r,o,s;return{c(){e=ae("svg"),n=ae("path"),r=ae("path"),o=ae("path"),s=ae("path"),_(n,"stroke","none"),_(n,"d","M0 0h24v24H0z"),_(n,"fill","none"),_(r,"d","M15 8a5 5 0 0 1 0 8"),_(o,"d","M17.7 5a9 9 0 0 1 0 14"),_(s,"d","M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","icon icon-tabler icon-tabler-volume svelte-1ofi1r6"),_(e,"width",t[1]),_(e,"height",t[1]),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width","0.75"),_(e,"stroke","currentColor"),_(e,"fill","none"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round")},m(i,a){F(i,e,a),w(e,n),w(e,r),w(e,o),w(e,s)},p(i,a){a&2&&_(e,"width",i[1]),a&2&&_(e,"height",i[1])},d(i){i&&W(e)}}}function Ts(t){let e;function n(s,i){return s[0]?Is:ks}let r=n(t),o=r(t);return{c(){o.c(),e=Wr()},m(s,i){o.m(s,i),F(s,e,i)},p(s,[i]){r===(r=n(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(e.parentNode,e)))},i:y,o:y,d(s){s&&W(e),o.d(s)}}}function Ss(t,e,n){let{soundON:r=!1}=e,{size:o=96}=e;return t.$$set=s=>{"soundON"in s&&n(0,r=s.soundON),"size"in s&&n(1,o=s.size)},[r,o]}class Hr extends ee{constructor(e){super(),J(this,e,Ss,Ts,Q,{soundON:0,size:1})}}function Rs(t){let e,n,r,o,s,i,a,c,l,u,d,f;function m(g){t[3](g)}let h={size:t[1]};t[2]!==void 0&&(h.soundON=t[2]),i=new Hr({props:h}),ce.push(()=>de(i,"soundON",m));function p(g){t[4](g)}let v={};return t[0]!==void 0&&(v.toggleON=t[0]),u=new Dt({props:v}),ce.push(()=>de(u,"toggleON",p)),u.$on("click",t[5]),{c(){e=N("fieldset"),n=N("legend"),n.textContent="Audio Input",r=Z(),o=N("div"),s=N("div"),q(i.$$.fragment),c=Z(),l=N("div"),q(u.$$.fragment),_(s,"class","icon svelte-sgiixz"),_(o,"class","audioInput svelte-sgiixz")},m(g,A){F(g,e,A),w(e,n),w(e,r),w(e,o),w(o,s),z(i,s,null),w(o,c),w(o,l),z(u,l,null),f=!0},p(g,[A]){const b={};A&2&&(b.size=g[1]),!a&&A&4&&(a=!0,b.soundON=g[2],ue(()=>a=!1)),i.$set(b);const k={};!d&&A&1&&(d=!0,k.toggleON=g[0],ue(()=>d=!1)),u.$set(k)},i(g){f||(L(i.$$.fragment,g),L(u.$$.fragment,g),f=!0)},o(g){D(i.$$.fragment,g),D(u.$$.fragment,g),f=!1},d(g){g&&W(e),G(i),G(u)}}}function Ls(t,e,n){let r,{toggleON:o=!1}=e,{iconSize:s=96}=e;function i(l){r=l,n(2,r),n(0,o)}function a(l){o=l,n(0,o)}function c(l){dt.call(this,t,l)}return t.$$set=l=>{"toggleON"in l&&n(0,o=l.toggleON),"iconSize"in l&&n(1,s=l.iconSize)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o)},[o,s,r,i,a,c]}class Ps extends ee{constructor(e){super(),J(this,e,Ls,Rs,Q,{toggleON:0,iconSize:1})}}function Ds(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Us(t){let e,n;return e=new Ps({}),e.$on("click",t[1]),{c(){q(e.$$.fragment)},m(r,o){z(e,r,o),n=!0},p:y,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function $s(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Bs(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:$s,then:Us,catch:Ds,blocks:[,,,]};return _e(n=t[0],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&1&&n!==(n=t[0])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function Vs(t,e,n){let r,o,s;return K(t,fe,a=>n(2,r=a)),K(t,Es,a=>n(0,o=a)),K(t,An,a=>n(3,s=a)),[o,async a=>{r.suspend(),a.detail.toggleON?(await o).connect(s):(await o).disconnect(),r.resume()}]}class Ws extends ee{constructor(e){super(),J(this,e,Vs,Bs,Q,{})}}function xs(t){let e,n,r,o,s,i,a,c,l,u,d,f,m;return{c(){e=N("fieldset"),n=N("legend"),r=ge(t[1]),o=Z(),s=N("div"),i=N("input"),a=Z(),c=N("br"),l=Z(),u=N("span"),d=ge(t[0]),_(i,"type","range"),_(i,"min",t[2]),_(i,"max",t[3]),_(i,"step",t[4]),_(i,"class","svelte-10brmj5"),_(u,"class","svelte-10brmj5"),_(s,"class","slider svelte-10brmj5")},m(h,p){F(h,e,p),w(e,n),w(n,r),w(e,o),w(e,s),w(s,i),Se(i,t[0]),w(s,a),w(s,c),w(s,l),w(s,u),w(u,d),f||(m=[Ue(i,"change",t[6]),Ue(i,"input",t[6]),Ue(i,"input",t[5])],f=!0)},p(h,[p]){p&2&&ye(r,h[1]),p&4&&_(i,"min",h[2]),p&8&&_(i,"max",h[3]),p&16&&_(i,"step",h[4]),p&1&&Se(i,h[0]),p&1&&ye(d,h[0])},i:y,o:y,d(h){h&&W(e),f=!1,We(m)}}}function Fs(t,e,n){let{name:r}=e,{value:o}=e,{min:s=-1}=e,{max:i=1}=e,{step:a=.01}=e;function c(u){dt.call(this,t,u)}function l(){o=ss(this.value),n(0,o)}return t.$$set=u=>{"name"in u&&n(1,r=u.name),"value"in u&&n(0,o=u.value),"min"in u&&n(2,s=u.min),"max"in u&&n(3,i=u.max),"step"in u&&n(4,a=u.step)},[o,r,s,i,a,c,l]}class Nn extends ee{constructor(e){super(),J(this,e,Fs,xs,Q,{name:1,value:0,min:2,max:3,step:4})}}function js(t){let e,n,r,o;function s(a){t[1](a)}let i={name:"Audio Input Volume",max:1,min:0,step:.05};return t[0]!==void 0&&(i.value=t[0]),n=new Nn({props:i}),ce.push(()=>de(n,"value",s)),{c(){e=N("div"),q(n.$$.fragment)},m(a,c){F(a,e,c),z(n,e,null),o=!0},p(a,[c]){const l={};!r&&c&1&&(r=!0,l.value=a[0],ue(()=>r=!1)),n.$set(l)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){D(n.$$.fragment,a),o=!1},d(a){a&&W(e),G(n)}}}function zs(t,e,n){let{audioInputGain:r=.5}=e;function o(s){r=s,n(0,r)}return t.$$set=s=>{"audioInputGain"in s&&n(0,r=s.audioInputGain)},[r,o]}class Gs extends ee{constructor(e){super(),J(this,e,zs,js,Q,{audioInputGain:0})}}function qs(t){let e,n,r,o;function s(a){t[3](a)}let i={};return t[0]!==void 0&&(i.audioInputGain=t[0]),n=new Gs({props:i}),ce.push(()=>de(n,"audioInputGain",s)),{c(){e=N("div"),q(n.$$.fragment)},m(a,c){F(a,e,c),z(n,e,null),o=!0},p(a,[c]){const l={};!r&&c&1&&(r=!0,l.audioInputGain=a[0],ue(()=>r=!1)),n.$set(l)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){D(n.$$.fragment,a),o=!1},d(a){a&&W(e),G(n)}}}function Hs(t,e,n){let r,o;K(t,fe,a=>n(1,r=a)),K(t,An,a=>n(2,o=a));let s=.5;function i(a){s=a,n(0,s)}return t.$$.update=()=>{t.$$.dirty&7&&o.gain.setValueAtTime(s,r.currentTime)},[s,r,o,i]}class Ys extends ee{constructor(e){super(),J(this,e,Hs,qs,Q,{})}}function Xs(t){let e,n,r,o;function s(a){t[1](a)}let i={name:"Noise Volume",max:.5,min:0,step:.01};return t[0]!==void 0&&(i.value=t[0]),n=new Nn({props:i}),ce.push(()=>de(n,"value",s)),{c(){e=N("div"),q(n.$$.fragment)},m(a,c){F(a,e,c),z(n,e,null),o=!0},p(a,[c]){const l={};!r&&c&1&&(r=!0,l.value=a[0],ue(()=>r=!1)),n.$set(l)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){D(n.$$.fragment,a),o=!1},d(a){a&&W(e),G(n)}}}function Zs(t,e,n){let{hissGain:r=0}=e;function o(s){r=s,n(0,r)}return t.$$set=s=>{"hissGain"in s&&n(0,r=s.hissGain)},[r,o]}class Ks extends ee{constructor(e){super(),J(this,e,Zs,Xs,Q,{hissGain:0})}}function Qs(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Js(t){let e,n,r;function o(i){t[4](i)}let s={};return t[0]!==void 0&&(s.hissGain=t[0]),e=new Ks({props:s}),ce.push(()=>de(e,"hissGain",o)),{c(){q(e.$$.fragment)},m(i,a){z(e,i,a),r=!0},p(i,a){const c={};!n&&a&1&&(n=!0,c.hissGain=i[0],ue(()=>n=!1)),e.$set(c)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){D(e.$$.fragment,i),r=!1},d(i){G(e,i)}}}function ei(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function ti(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:ei,then:Js,catch:Qs,blocks:[,,,]};return _e(n=t[1],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&2&&n!==(n=t[1])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function ni(t,e,n){let r,o;K(t,zr,c=>n(1,r=c)),K(t,fe,c=>n(3,o=c));let s=0,i;Le(async()=>{n(2,i=(await r).parameters.get("gain"))});function a(c){s=c,n(0,s)}return t.$$.update=()=>{t.$$.dirty&13&&i&&i.setValueAtTime(s,o.currentTime)},[s,r,i,o,a]}class ri extends ee{constructor(e){super(),J(this,e,ni,ti,Q,{})}}function oi(t){let e,n;return{c(){e=ae("svg"),n=ae("path"),_(n,"d","M274.8416 768.7168a15.36 15.36 0 0 1-15.36-15.36V270.6432a15.36 15.36 0 0 1 30.72 0v482.7136a15.36 15.36 0 0 1-15.36 15.36zM409.6 658.1248a15.36 15.36 0 0 1-15.36-15.36V381.2352a15.36 15.36 0 0 1 30.72 0v261.5296a15.36 15.36 0 0 1-15.36 15.36zM139.8272 658.1248a15.36 15.36 0 0 1-15.36-15.36V381.2352a15.36 15.36 0 0 1 30.72 0v261.5296a15.36 15.36 0 0 1-15.36 15.36zM528.384 565.9648a15.36 15.36 0 0 1-15.36-15.36V473.3952a15.36 15.36 0 0 1 30.72 0v77.2096a15.36 15.36 0 0 1-15.36 15.36zM647.0144 565.9648a15.36 15.36 0 0 1-15.36-15.36V473.3952a15.36 15.36 0 1 1 30.72 0v77.2096a15.36 15.36 0 0 1-15.36 15.36zM765.5936 565.9648a15.36 15.36 0 0 1-15.36-15.36V473.3952a15.36 15.36 0 0 1 30.72 0v77.2096a15.36 15.36 0 0 1-15.36 15.36zM884.1728 565.9648a15.36 15.36 0 0 1-15.36-15.36V473.3952a15.36 15.36 0 1 1 30.72 0v77.2096a15.36 15.36 0 0 1-15.36 15.36z"),_(e,"class","svg-icon icon-noise-reduction svelte-uwd1ob"),_(e,"width",t[1]),_(e,"height",t[1]),_(e,"viewBox","0 0 1024 1024"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"version","1.1"),_(e,"xmlns","http://www.w3.org/2000/svg"),Je(e,"noiseReductionON",t[0])},m(r,o){F(r,e,o),w(e,n)},p(r,[o]){o&2&&_(e,"width",r[1]),o&2&&_(e,"height",r[1]),o&1&&Je(e,"noiseReductionON",r[0])},i:y,o:y,d(r){r&&W(e)}}}function si(t,e,n){let{noiseReductionON:r=!1}=e,{size:o=96}=e;return t.$$set=s=>{"noiseReductionON"in s&&n(0,r=s.noiseReductionON),"size"in s&&n(1,o=s.size)},[r,o]}class ii extends ee{constructor(e){super(),J(this,e,si,oi,Q,{noiseReductionON:0,size:1})}}function ai(t){let e,n,r,o,s,i,a,c,l,u,d;i=new ii({props:{noiseReductionON:t[0]}});function f(h){t[2](h)}let m={};return t[0]!==void 0&&(m.toggleON=t[0]),l=new Dt({props:m}),ce.push(()=>de(l,"toggleON",f)),l.$on("click",t[3]),{c(){e=N("fieldset"),n=N("legend"),n.textContent="Noise Suppression",r=Z(),o=N("div"),s=N("div"),q(i.$$.fragment),a=Z(),c=N("div"),q(l.$$.fragment),_(s,"class","icon svelte-16xerkm"),_(o,"class","noisesuppression svelte-16xerkm")},m(h,p){F(h,e,p),w(e,n),w(e,r),w(e,o),w(o,s),z(i,s,null),w(o,a),w(o,c),z(l,c,null),d=!0},p(h,[p]){const v={};p&1&&(v.noiseReductionON=h[0]),i.$set(v);const g={};!u&&p&1&&(u=!0,g.toggleON=h[0],ue(()=>u=!1)),l.$set(g)},i(h){d||(L(i.$$.fragment,h),L(l.$$.fragment,h),d=!0)},o(h){D(i.$$.fragment,h),D(l.$$.fragment,h),d=!1},d(h){h&&W(e),G(i),G(l)}}}function ci(t,e,n){let{bypass:r=1}=e,o=!1;function s(a){o=a,n(0,o)}function i(a){dt.call(this,t,a)}return t.$$set=a=>{"bypass"in a&&n(1,r=a.bypass)},t.$$.update=()=>{t.$$.dirty&1&&n(1,r=o?0:1)},[o,r,s,i]}class li extends ee{constructor(e){super(),J(this,e,ci,ai,Q,{bypass:1})}}function ui(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function di(t){let e,n,r;function o(i){t[4](i)}let s={};return t[0]!==void 0&&(s.bypass=t[0]),e=new li({props:s}),ce.push(()=>de(e,"bypass",o)),{c(){q(e.$$.fragment)},m(i,a){z(e,i,a),r=!0},p(i,a){const c={};!n&&a&1&&(n=!0,c.bypass=i[0],ue(()=>n=!1)),e.$set(c)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){D(e.$$.fragment,i),r=!1},d(i){G(e,i)}}}function fi(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function hi(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:fi,then:di,catch:ui,blocks:[,,,]};return _e(n=t[1],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&2&&n!==(n=t[1])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function pi(t,e,n){let r,o;K(t,Gr,c=>n(1,r=c)),K(t,fe,c=>n(3,o=c));let s=1,i;Le(async()=>{n(2,i=(await r).parameters.get("bypass"))});function a(c){s=c,n(0,s)}return t.$$.update=()=>{t.$$.dirty&13&&i&&i.setValueAtTime(s,o.currentTime)},[s,r,i,o,a]}class mi extends ee{constructor(e){super(),J(this,e,pi,hi,Q,{})}}function gi(t){let e,n,r,o,s,i,a,c,l,u,d,f;function m(g){t[3](g)}let h={size:t[1]};t[2]!==void 0&&(h.soundON=t[2]),i=new Hr({props:h}),ce.push(()=>de(i,"soundON",m));function p(g){t[4](g)}let v={};return t[0]!==void 0&&(v.toggleON=t[0]),u=new Dt({props:v}),ce.push(()=>de(u,"toggleON",p)),u.$on("click",t[5]),{c(){e=N("fieldset"),n=N("legend"),n.textContent="Oscillator",r=Z(),o=N("div"),s=N("div"),q(i.$$.fragment),c=Z(),l=N("div"),q(u.$$.fragment),_(s,"class","icon svelte-n0ytjb"),_(o,"class","oscillator svelte-n0ytjb")},m(g,A){F(g,e,A),w(e,n),w(e,r),w(e,o),w(o,s),z(i,s,null),w(o,c),w(o,l),z(u,l,null),f=!0},p(g,[A]){const b={};A&2&&(b.size=g[1]),!a&&A&4&&(a=!0,b.soundON=g[2],ue(()=>a=!1)),i.$set(b);const k={};!d&&A&1&&(d=!0,k.toggleON=g[0],ue(()=>d=!1)),u.$set(k)},i(g){f||(L(i.$$.fragment,g),L(u.$$.fragment,g),f=!0)},o(g){D(i.$$.fragment,g),D(u.$$.fragment,g),f=!1},d(g){g&&W(e),G(i),G(u)}}}function _i(t,e,n){let r,{toggleON:o=!1}=e,{iconSize:s=96}=e;function i(l){r=l,n(2,r),n(0,o)}function a(l){o=l,n(0,o)}function c(l){dt.call(this,t,l)}return t.$$set=l=>{"toggleON"in l&&n(0,o=l.toggleON),"iconSize"in l&&n(1,s=l.iconSize)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o)},[o,s,r,i,a,c]}class vi extends ee{constructor(e){super(),J(this,e,_i,gi,Q,{toggleON:0,iconSize:1})}}function wi(t){let e,n,r;return n=new vi({}),n.$on("click",t[0]),{c(){e=N("div"),q(n.$$.fragment)},m(o,s){F(o,e,s),z(n,e,null),r=!0},p:y,i(o){r||(L(n.$$.fragment,o),r=!0)},o(o){D(n.$$.fragment,o),r=!1},d(o){o&&W(e),G(n)}}}function bi(t,e,n){let r,o,s;return K(t,fe,a=>n(1,r=a)),K(t,jr,a=>n(2,o=a)),K(t,bn,a=>n(3,s=a)),[a=>{r.suspend(),a.detail.toggleON?o.connect(s):o.disconnect(),r.resume()}]}class yi extends ee{constructor(e){super(),J(this,e,bi,wi,Q,{})}}function Ei(t){let e,n,r,o;function s(a){t[1](a)}let i={name:"Oscillator Volume",max:.5,min:0,step:.01};return t[0]!==void 0&&(i.value=t[0]),n=new Nn({props:i}),ce.push(()=>de(n,"value",s)),{c(){e=N("div"),q(n.$$.fragment)},m(a,c){F(a,e,c),z(n,e,null),o=!0},p(a,[c]){const l={};!r&&c&1&&(r=!0,l.value=a[0],ue(()=>r=!1)),n.$set(l)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){D(n.$$.fragment,a),o=!1},d(a){a&&W(e),G(n)}}}function Ai(t,e,n){let{oscGain:r=.2}=e;function o(s){r=s,n(0,r)}return t.$$set=s=>{"oscGain"in s&&n(0,r=s.oscGain)},[r,o]}class Ni extends ee{constructor(e){super(),J(this,e,Ai,Ei,Q,{oscGain:0})}}function Ci(t){let e,n,r,o;function s(a){t[3](a)}let i={};return t[0]!==void 0&&(i.oscGain=t[0]),n=new Ni({props:i}),ce.push(()=>de(n,"oscGain",s)),{c(){e=N("div"),q(n.$$.fragment)},m(a,c){F(a,e,c),z(n,e,null),o=!0},p(a,[c]){const l={};!r&&c&1&&(r=!0,l.oscGain=a[0],ue(()=>r=!1)),n.$set(l)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){D(n.$$.fragment,a),o=!1},d(a){a&&W(e),G(n)}}}function Oi(t,e,n){let r,o;K(t,fe,a=>n(1,r=a)),K(t,bn,a=>n(2,o=a));let s=.1;function i(a){s=a,n(0,s)}return t.$$.update=()=>{t.$$.dirty&7&&o.gain.setValueAtTime(s,r.currentTime)},[s,r,o,i]}class Mi extends ee{constructor(e){super(),J(this,e,Oi,Ci,Q,{})}}function ki(t,e,n=20,r){if(!t)throw new Error("canvas is not initialized.");const o=t.getContext("2d"),s=e.frequencyBinCount,i=new Uint8Array(s),a=60/n;let c;const l=()=>{if(c=requestAnimationFrame(l),c%a!==0)return;t.height=100,e.getByteTimeDomainData(i);const d=t.width*1/s;o.fillStyle="rgb(36, 36, 36)",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.strokeStyle="rgba(128, 192, 255, 0.90)",o.lineWidth=1.5,r&&r(o,i),o.beginPath();for(let f=0,m=0;f<e.fftSize;f++){const h=i[f]/128*t.height/2;f===0?o.moveTo(m,h):o.lineTo(m,h),m+=d}o.lineTo(t.width,t.height/2),o.stroke()};return{draw:l,quit:()=>{cancelAnimationFrame(c)}}}function Ii(t){let e;return{c(){e=N("canvas"),_(e,"class","svelte-11aqjr0")},m(n,r){F(n,e,r),t[4](e)},p:y,i:y,o:y,d(n){n&&W(e),t[4](null)}}}function Ti(t,e,n){let{analyserNode:r}=e,{framePerSecond:o}=e,{draw:s=void 0}=e,i,a;Le(()=>(a=ki(i,r,o,s),a.draw(),a.quit));function c(l){ce[l?"unshift":"push"](()=>{i=l,n(0,i)})}return t.$$set=l=>{"analyserNode"in l&&n(1,r=l.analyserNode),"framePerSecond"in l&&n(2,o=l.framePerSecond),"draw"in l&&n(3,s=l.draw)},[i,r,o,s,c]}class Si extends ee{constructor(e){super(),J(this,e,Ti,Ii,Q,{analyserNode:1,framePerSecond:2,draw:3})}}function Ri(t){let e,n,r,o,s,i;return s=new Si({props:{analyserNode:t[0],framePerSecond:t[1],draw:t[2]}}),{c(){e=N("fieldset"),n=N("legend"),n.textContent="Wave Shape",r=Z(),o=N("div"),q(s.$$.fragment),_(o,"class","oscilloscope svelte-1ceujlt")},m(a,c){F(a,e,c),w(e,n),w(e,r),w(e,o),z(s,o,null),i=!0},p(a,[c]){const l={};c&1&&(l.analyserNode=a[0]),c&2&&(l.framePerSecond=a[1]),c&4&&(l.draw=a[2]),s.$set(l)},i(a){i||(L(s.$$.fragment,a),i=!0)},o(a){D(s.$$.fragment,a),i=!1},d(a){a&&W(e),G(s)}}}function Li(t,e,n){let{analyserNode:r}=e,{framePerSecond:o=30}=e,{draw:s=void 0}=e;return t.$$set=i=>{"analyserNode"in i&&n(0,r=i.analyserNode),"framePerSecond"in i&&n(1,o=i.framePerSecond),"draw"in i&&n(2,s=i.draw)},[r,o,s]}class Pi extends ee{constructor(e){super(),J(this,e,Li,Ri,Q,{analyserNode:0,framePerSecond:1,draw:2})}}function Di(t){let e,n;return e=new Pi({props:{analyserNode:t[0],framePerSecond:30}}),{c(){q(e.$$.fragment)},m(r,o){z(e,r,o),n=!0},p(r,[o]){const s={};o&1&&(s.analyserNode=r[0]),e.$set(s)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Ui(t,e,n){let r;return K(t,yn,o=>n(0,r=o)),[r]}class $i extends ee{constructor(e){super(),J(this,e,Ui,Di,Q,{})}}function Bi(t){let e,n,r,o,s;return{c(){e=ae("svg"),n=ae("g"),r=ae("path"),o=ae("path"),s=ae("path"),_(r,"class","st0"),_(r,"d","M378.409,0H208.294h-13.175l-9.315,9.314L57.016,138.102l-9.314,9.314v13.176v265.513c0,47.361,38.528,85.896,85.896,85.896h244.811c47.36,0,85.888-38.535,85.888-85.896V85.895C464.298,38.528,425.769,0,378.409,0zM432.494,426.104c0,29.877-24.215,54.092-54.084,54.092H133.598c-29.877,0-54.092-24.215-54.092-54.092V160.591h83.717c24.885,0,45.07-20.179,45.07-45.07V31.804h170.116c29.87,0,54.084,24.214,54.084,54.091V426.104z"),_(o,"class","st0"),_(o,"d","M176.829,253.762v53.82c0,11.179,9.06,20.235,20.238,20.235h37.676v-94.288h-37.676C185.888,233.528,176.829,242.597,176.829,253.762z"),_(s,"class","st0"),_(s,"d","M328.448,195.775c-2.036-1.257-4.573-1.355-6.706-0.272l-74.874,38.025v94.288l74.874,38.032c2.133,1.082,4.671,0.984,6.706-0.272c2.036-1.243,3.278-3.47,3.278-5.858V201.632C331.726,199.238,330.483,197.017,328.448,195.775z"),_(e,"version","1.1"),_(e,"id","_x32_"),_(e,"class","dark:text-white icon-audiofile svelte-sfr8se"),_(e,"width",t[1]),_(e,"height",t[1]),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"x","0px"),_(e,"y","0px"),_(e,"viewBox","0 0 512 512"),_(e,"xml:space","preserve"),Je(e,"active",t[0])},m(i,a){F(i,e,a),w(e,n),w(n,r),w(n,o),w(n,s)},p(i,[a]){a&2&&_(e,"width",i[1]),a&2&&_(e,"height",i[1]),a&1&&Je(e,"active",i[0])},i:y,o:y,d(i){i&&W(e)}}}function Vi(t,e,n){let{active:r=!1}=e,{size:o=80}=e;return t.$$set=s=>{"active"in s&&n(0,r=s.active),"size"in s&&n(1,o=s.size)},[r,o]}class Wi extends ee{constructor(e){super(),J(this,e,Vi,Bi,Q,{active:0,size:1})}}function xi(t){let e,n,r,o,s,i,a,c,l,u,d;i=new Wi({props:{active:t[0]}});function f(h){t[1](h)}let m={toggleOnText:"● Rec",toggleOffText:"■ Stop"};return t[0]!==void 0&&(m.toggleON=t[0]),l=new Dt({props:m}),ce.push(()=>de(l,"toggleON",f)),l.$on("click",t[2]),{c(){e=N("fieldset"),n=N("legend"),n.textContent="Recording",r=Z(),o=N("div"),s=N("div"),q(i.$$.fragment),a=Z(),c=N("div"),q(l.$$.fragment),_(s,"class","icon svelte-cc5z1e"),_(o,"class","recording svelte-cc5z1e")},m(h,p){F(h,e,p),w(e,n),w(e,r),w(e,o),w(o,s),z(i,s,null),w(o,a),w(o,c),z(l,c,null),d=!0},p(h,[p]){const v={};p&1&&(v.active=h[0]),i.$set(v);const g={};!u&&p&1&&(u=!0,g.toggleON=h[0],ue(()=>u=!1)),l.$set(g)},i(h){d||(L(i.$$.fragment,h),L(l.$$.fragment,h),d=!0)},o(h){D(i.$$.fragment,h),D(l.$$.fragment,h),d=!1},d(h){h&&W(e),G(i),G(l)}}}function Fi(t,e,n){let r=!1;function o(i){r=i,n(0,r)}function s(i){dt.call(this,t,i)}return[r,o,s]}class ji extends ee{constructor(e){super(),J(this,e,Fi,xi,Q,{})}}const zi=t=>e=>{const n=t(e);return e.add(n),n},Gi=t=>(e,n)=>(t.set(e,n),n),er=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Yr=536870912,tr=Yr*2,qi=(t,e)=>n=>{const r=e.get(n);let o=r===void 0?n.size:r<tr?r+1:0;if(!n.has(o))return t(n,o);if(n.size<Yr){for(;n.has(o);)o=Math.floor(Math.random()*tr);return t(n,o)}if(n.size>er)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*er);return t(n,o)},Xr=new WeakMap,Hi=Gi(Xr),Cn=qi(Hi,Xr),Yi=zi(Cn),Xi=t=>typeof t.start=="function",nr=new WeakMap,Zi=t=>({...t,connect:({call:e})=>async()=>{const{port1:n,port2:r}=new MessageChannel,o=await e("connect",{port:n},[n]);return nr.set(r,o),r},disconnect:({call:e})=>async n=>{const r=nr.get(n);if(r===void 0)throw new Error("The given port is not connected.");await e("disconnect",{portId:r})},isSupported:({call:e})=>()=>e("isSupported")}),Xt=new WeakMap,Ki=t=>{if(Xt.has(t))return Xt.get(t);const e=new Map;return Xt.set(t,e),e},Zr=t=>{const e=Zi(t);return n=>{const r=Ki(n);n.addEventListener("message",({data:a})=>{const{id:c}=a;if(c!==null&&r.has(c)){const{reject:l,resolve:u}=r.get(c);r.delete(c),a.error===void 0?u(a.result):l(new Error(a.error.message))}}),Xi(n)&&n.start();const o=(a,c=null,l=[])=>new Promise((u,d)=>{const f=Cn(r);r.set(f,{reject:d,resolve:u}),c===null?n.postMessage({id:f,method:a},l):n.postMessage({id:f,method:a,params:c},l)}),s=(a,c,l=[])=>{n.postMessage({id:null,method:a,params:c},l)};let i={};for(const[a,c]of Object.entries(e))i={...i,[a]:c({call:o,notify:s})};return{...i}}},rr=new Set,Qi=Zr({encode:({call:t})=>async(e,n)=>{const r=await t("encode",{encoderId:e,timeslice:n});return rr.delete(e),r},instantiate:({call:t})=>async(e,n)=>{const r=Yi(rr),o=await t("instantiate",{encoderId:r,mimeType:e,sampleRate:n});return{encoderId:r,port:o}},register:({call:t})=>e=>t("register",{port:e},[e])}),Ji=t=>{const e=new Worker(t);return Qi(e)},ea=`(()=>{var e={881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[À-ž]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},507:e=>{var t=function(e){var t,r,n=/\\w+/.exec(e);if(!n)return"an";var o=(r=n[0]).toLowerCase(),s=["honest","hour","hono"];for(t in s)if(0==o.indexOf(s[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var a=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<a.length;t++)if(o.match(a[t]))return"a";return r.match(/^U[NK][AIEO]/)?"a":r==r.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(881),t=r.n(e),n=r(507),o=r.n(n);const s=(e,r)=>void 0===r?e:r.reduce(((e,r)=>{if("capitalize"===r){const t=e.charAt(0).toUpperCase(),r=e.slice(1);return"".concat(t).concat(r)}return"dashify"===r?t()(e):"prependIndefiniteArticle"===r?"".concat(o()(e)," ").concat(e):e}),e),a=(e,t)=>{const r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,n=[];let o=r.exec(e);for(;null!==o;){const t={modifiers:[],name:o[1]};if(void 0!==o[3]){const e=/\\.[^(]+\\(\\)/g;let r=e.exec(o[2]);for(;null!==r;)t.modifiers.push(r[0].slice(1,-2)),r=e.exec(o[2])}n.push(t),o=r.exec(e)}const a=n.reduce(((e,r)=>e.map((e=>"string"==typeof e?e.split((e=>{const t=e.name+e.modifiers.map((e=>"\\\\.".concat(e,"\\\\(\\\\)"))).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")})(r)).reduce(((e,n,o)=>0===o?[n]:r.name in t?[...e,s(t[r.name],r.modifiers),n]:[...e,e=>s(e[r.name],r.modifiers),n]),[]):[e])).reduce(((e,t)=>[...e,...t]),[])),[e]);return e=>a.reduce(((t,r)=>"string"==typeof r?[...t,r]:[...t,r(e)]),[]).join("")},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=void 0===e.code?void 0:a(e.code,t),n=void 0===e.message?void 0:a(e.message,t);return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const s=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9)),{cause:a,missingParameters:i}=s?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},c=void 0===n?new Error:new Error(n(i));return null!==a&&(c.cause=a),void 0!==r&&(c.code=r(i)),void 0!==e.status&&(c.status=e.status),c}},c=-32603,d=-32602,l=i({message:'The requested method called "\${method}" is not supported.',status:-32601}),u=i({message:'The handler of the method called "\${method}" returned no required result.',status:c}),h=i({message:'The handler of the method called "\${method}" returned an unexpected result.',status:c}),m=i({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:d}),p=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,f=536870912,g=1073741824,w=new WeakMap;var v;const y=((e,t)=>r=>{const n=t.get(r);let o=void 0===n?r.size:n<g?n+1:0;if(!r.has(o))return e(r,o);if(r.size<f){for(;r.has(o);)o=Math.floor(Math.random()*g);return e(r,o)}if(r.size>p)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(o);)o=Math.floor(Math.random()*p);return e(r,o)})((v=w,(e,t)=>(v.set(e,t),t)),w),M=((e=>{})(y),new Map),E=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const o=e(n,t),s=y(M);return M.set(s,(()=>{o(),n.close(),M.delete(s)})),{result:s}},disconnect:e=>{let{portId:t}=e;const r=M.get(t);if(void 0===r)throw m({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),x=function(e,t){const r=E(x,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=((e,t)=>async r=>{let{data:{id:n,method:o,params:s}}=r;const a=t[o];try{if(void 0===a)throw l({method:o});const t=void 0===s?a():a(s);if(void 0===t)throw u({method:o});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw h({method:o})}else{if(void 0===r.result)throw h({method:o});const{result:t,transferables:s=[]}=r;e.postMessage({id:n,result:t},s)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}})(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},b=e=>{e.onmessage=null,e.close()},A=new WeakMap,T=new WeakMap,I=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t("connect",{port:e},[e]);return A.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=A.get(e);if(void 0===r)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var r;return e=>{const r=(e=>{if(T.has(e))return T.get(e);const t=new Map;return T.set(e,t),t})(e);e.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((s,a)=>{const i=y(r);r.set(i,{reject:a,resolve:s}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let s={};for(const[e,r]of Object.entries(t))s={...s,[e]:r({call:n,notify:o})};return{...s}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),O=async(e,t)=>{const r=I(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return e.set(o,[n,r]),n},L=new Map,P=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(L),S=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(L,P),N=new Map,C=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:i}=s;0===i.length?(e(o),t(n.encode(r,null))):n.record(r,a,i)}})):n.encode(r,null)})(b,S),R=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(N),$=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));const a=r(o),{port1:i,port2:c}=new MessageChannel,d=[a,i,!0,s];return t.set(n,d),i.onmessage=t=>{let{data:r}=t;0===r.length?(e(i),d[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},c})(b,L,R),j=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(P);x(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await C(t):await j(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=$(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await O(N,t)}}})})()})();`,ta=new Blob([ea],{type:"application/javascript; charset=utf-8"}),Kr=URL.createObjectURL(ta),On=Ji(Kr),Mt=On.encode,Qr=On.instantiate,na=On.register;URL.revokeObjectURL(Kr);const ra=t=>(e,n)=>{if(t===null)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},oa=(t,e)=>(n,r,o)=>{const s=[];let i=r,a=0;for(;a<n.byteLength;)if(i===null){const c=e(n,a);if(c===null)break;const{length:l,type:u}=c;i=u,a+=l}else{const c=t(n,a,i,o);if(c===null)break;const{content:l,length:u}=c;i=null,a+=u,l!==null&&s.push(l)}return{contents:s,currentElementType:i,offset:a}},sa=(t,e)=>class{constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?t():r}addEventListener(r,o,s){if(o!==null){let i=this._listeners.get(o);i===void 0&&(i=e(this,o),typeof o=="function"&&this._listeners.set(o,i)),this._nativeEventTarget.addEventListener(r,i,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,s){const i=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,i===void 0?null:i,s)}},ia=t=>()=>{if(t===null)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")},aa=(t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},ca=()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},la=(t,e,n,r,o,s,i)=>class extends s{constructor(c,l={}){const{mimeType:u}=l;if(i!==null&&(u===void 0||i.isTypeSupported!==void 0&&i.isTypeSupported(u))){const d=t(i,c,l);super(d),this._internalMediaRecorder=d}else if(u!==void 0&&o.some(d=>d.test(u)))super(),i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=r(this,i,c,u):this._internalMediaRecorder=n(this,c,u);else throw i!==null&&t(i,c,l),e();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(c){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("dataavailable",l),this._ondataavailable=[c,l]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(c){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("error",l),this._onerror=[c,l]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(c){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("pause",l),this._onpause=[c,l]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(c){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("resume",l),this._onresume=[c,l]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(c){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("start",l),this._onstart=[c,l]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(c){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof c=="function"){const l=c.bind(this);this.addEventListener("stop",l),this._onstop=[c,l]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(c){return this._internalMediaRecorder.start(c)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(c){return i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported(c)||o.some(l=>l.test(c))}},ua=t=>t!==null&&t.BlobEvent!==void 0?t.BlobEvent:null,da=(t,e,n)=>{const r=new Map,o=new WeakMap,s=new WeakMap,i=new t(e,n),a=new WeakMap;let c=!1;return i.addEventListener=(l=>(u,d,f)=>{let m=d;if(typeof d=="function")if(u==="dataavailable"){const h=[];m=p=>{c&&i.state==="inactive"?h.push(p):d.call(i,p)},r.set(d,h),o.set(d,m)}else u==="error"?(m=h=>{h instanceof ErrorEvent?d.call(i,h):d.call(i,new ErrorEvent("error",{error:h.error}))},s.set(d,m)):u==="stop"&&(m=h=>{for(const[p,v]of r.entries())if(v.length>0){const[g]=v;v.length>1&&Object.defineProperty(g,"data",{value:new Blob(v.map(({data:A})=>A),{type:g.data.type})}),v.length=0,p.call(i,g)}c=!1,d.call(i,h)},a.set(d,m));return l.call(i,u,m,f)})(i.addEventListener),i.removeEventListener=(l=>(u,d,f)=>{let m=d;if(typeof d=="function"){if(u==="dataavailable"){r.delete(d);const h=o.get(d);h!==void 0&&(m=h)}else if(u==="error"){const h=s.get(d);h!==void 0&&(m=h)}else if(u==="stop"){const h=a.get(d);h!==void 0&&(m=h)}}return l.call(i,u,m,f)})(i.removeEventListener),i.start=(l=>u=>(c=u!==void 0,u===void 0?l.call(i):l.call(i,u)))(i.start),i},fa=t=>t===null||t.MediaRecorder===void 0?null:t.MediaRecorder,Jr=()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},ha=t=>(e,n,r,o=2)=>{const s=t(e,n);if(s===null)return s;const{length:i,value:a}=s;if(r==="master")return{content:null,length:i};if(n+i+a>e.byteLength)return null;if(r==="binary"){const c=(a/Float32Array.BYTES_PER_ELEMENT-1)/o,l=Array.from({length:o},()=>new Float32Array(c));for(let u=0;u<c;u+=1){const d=u*o+1;for(let f=0;f<o;f+=1)l[f][u]=e.getFloat32(n+i+(d+f)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:l,length:i+a}}return{content:null,length:i+a}},pa=t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const{length:o,value:s}=r;return s===35?{length:o,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:o,type:"master"}:{length:o,type:"unknown"}},ma=t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const o=n+Math.floor((r-1)/8);if(o+r>e.byteLength)return null;let i=e.getUint8(o)&(1<<8-r%8)-1;for(let a=1;a<r;a+=1)i=(i<<8)+e.getUint8(o+a);return{length:r,value:i}},or=Symbol.observable||"@@observable";function ga(t){return Symbol.observable||(typeof t=="function"&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[or]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[or]=t[Symbol.observable],delete t[Symbol.observable])),t}const bt=()=>{},sr=t=>{throw t};function _a(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??bt).bind(t),error:(t.error??sr).bind(t),next:(t.next??bt).bind(t)}:{complete:bt,error:sr,next:bt}}const va=t=>(e,n,r)=>t(o=>{const s=i=>o.next(i);return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)}),wa=(t,e)=>{const n=()=>{},r=o=>typeof o[0]=="function";return o=>{const s=(...i)=>{const a=o(r(i)?e({next:i[0]}):e(...i));return a!==void 0?a:n};return s[Symbol.observable]=()=>({subscribe:(...i)=>({unsubscribe:s(...i)})}),t(s)}},ba=wa(ga,_a),eo=va(ba);function to(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * dashify <https://github.com/jonschlinkert/dashify>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ya=(t,e)=>{if(typeof t!="string")throw new TypeError("expected a string");return t.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,n=>/[À-ž]/.test(n)?n:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,n=>e&&e.condense?"-":n).toLowerCase()};const Ea=to(ya);var no={exports:{}};(function(t){var e=function(n){var r,o,s=/\w+/.exec(n);if(s)o=s[0];else return"an";var i=o.toLowerCase(),a=["honest","hour","hono"];for(r in a)if(i.indexOf(a[r])==0)return"an";if(i.length==1)return"aedhilmnorsx".indexOf(i)>=0?"an":"a";if(o.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var c=[/^e[uw]/,/^onc?e\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(r=0;r<c.length;r++)if(i.match(c[r]))return"a";return o.match(/^U[NK][AIEO]/)?"a":o==o.toUpperCase()?"aedhilmnorsx".indexOf(i[0])>=0?"an":"a":"aeiou".indexOf(i[0])>=0||i.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};t.exports=e})(no);var Aa=no.exports;const Na=to(Aa),ir=(t,e)=>e===void 0?t:e.reduce((n,r)=>{if(r==="capitalize"){const o=n.charAt(0).toUpperCase(),s=n.slice(1);return`${o}${s}`}return r==="dashify"?Ea(n):r==="prependIndefiniteArticle"?`${Na(n)} ${n}`:n},t),Ca=t=>{const e=t.name+t.modifiers.map(n=>`\\.${n}\\(\\)`).join("");return new RegExp(`\\$\\{${e}}`,"g")},ar=(t,e)=>{const n=/\${([^.}]+)((\.[^(]+\(\))*)}/g,r=[];let o=n.exec(t);for(;o!==null;){const i={modifiers:[],name:o[1]};if(o[3]!==void 0){const a=/\.[^(]+\(\)/g;let c=a.exec(o[2]);for(;c!==null;)i.modifiers.push(c[0].slice(1,-2)),c=a.exec(o[2])}r.push(i),o=n.exec(t)}const s=r.reduce((i,a)=>i.map(c=>typeof c=="string"?c.split(Ca(a)).reduce((l,u,d)=>d===0?[u]:a.name in e?[...l,ir(e[a.name],a.modifiers),u]:[...l,f=>ir(f[a.name],a.modifiers),u],[]):[c]).reduce((c,l)=>[...c,...l],[]),[t]);return i=>s.reduce((a,c)=>typeof c=="string"?[...a,c]:[...a,c(i)],[]).join("")},Ut=(t,e={})=>{const n=t.code===void 0?void 0:ar(t.code,e),r=t.message===void 0?void 0:ar(t.message,e);function o(s={},i){const a=i===void 0&&(s instanceof Error||s.code!==void 0&&s.code.slice(-9)==="Exception"),{cause:c,missingParameters:l}=a?{cause:s,missingParameters:{}}:{cause:i,missingParameters:s},u=r===void 0?new Error:new Error(r(l));return c!==null&&(u.cause=c),n!==void 0&&(u.code=n(l)),t.status!==void 0&&(u.status=t.status),u}return o},$t={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601};Ut({message:'The requested method called "${method}" is not supported.',status:$t.METHOD_NOT_FOUND});Ut({message:'The handler of the method called "${method}" returned no required result.',status:$t.INTERNAL_ERROR});Ut({message:'The handler of the method called "${method}" returned an unexpected result.',status:$t.INTERNAL_ERROR});Ut({message:'The specified parameter called "portId" with the given value "${portId}" does not identify a port connected to this worker.',status:$t.INVALID_PARAMS});const Oa=(t,e,n)=>async r=>{const o=new t([n],{type:"application/javascript; charset=utf-8"}),s=e.createObjectURL(o);try{await r(s)}finally{e.revokeObjectURL(s)}},Ma=t=>({data:e})=>{const{id:n}=e;if(n!==null){const r=t.get(n);if(r!==void 0){const{reject:o,resolve:s}=r;t.delete(n),e.error===void 0?s(e.result):o(new Error(e.error.message))}}},ka=t=>(e,n)=>(r,o=[])=>new Promise((s,i)=>{const a=t(e);e.set(a,{reject:i,resolve:s}),n.postMessage({id:a,...r},o)}),Ia=(t,e,n,r)=>(o,s,i={})=>{const a=new o(s,"recorder-audio-worklet-processor",{...i,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),c=new Map,l=e(c,a.port),u=n(a.port,"message")(t(c));a.port.start();let d="inactive";return Object.defineProperties(a,{pause:{get(){return async()=>(r(["recording"],d),d="paused",l({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async f=>(r(["inactive"],d),d="recording",l({method:"record",params:{encoderPort:f}},[f]))}},resume:{get(){return async()=>(r(["paused"],d),d="recording",l({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],d),d="stopped";try{await l({method:"stop"})}finally{u()}}}}}),a},Ta=(t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map(n=>`"${n}"`).join(" or ")} but it was "${e}".`)},Sa='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',Ra=Oa(Blob,URL,Sa),La=Ia(Ma,ka(Cn),eo,Ta),cr=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),lr=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),rn=(t,e)=>({startTime:e,type:"setValue",value:t}),ro=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),oo=(t,e,{startTime:n,target:r,timeConstant:o})=>r+(e-r)*Math.exp((n-t)/o),Ze=t=>t.type==="exponentialRampToValue",kt=t=>t.type==="linearRampToValue",Te=t=>Ze(t)||kt(t),Mn=t=>t.type==="setValue",Ce=t=>t.type==="setValueCurve",It=(t,e,n,r)=>{const o=t[e];return o===void 0?r:Te(o)||Mn(o)?o.value:Ce(o)?o.values[o.values.length-1]:oo(n,It(t,e-1,o.startTime,r),o)},ur=(t,e,n,r,o)=>n===void 0?[r.insertTime,o]:Te(n)?[n.endTime,n.value]:Mn(n)?[n.startTime,n.value]:Ce(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,It(t,e-1,n.startTime,o)],on=t=>t.type==="cancelAndHold",sn=t=>t.type==="cancelScheduledValues",Ie=t=>on(t)||sn(t)?t.cancelTime:Ze(t)||kt(t)?t.endTime:t.startTime,dr=(t,e,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((t-e)/(r-e)):0,fr=(t,e,n,{endTime:r,value:o})=>n+(t-e)/(r-e)*(o-n),Pa=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},Da=(t,{duration:e,startTime:n,values:r})=>{const o=(t-n)/e*(r.length-1);return Pa(r,o)},yt=t=>t.type==="setTarget";class Ua{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ie(e);if(on(e)||sn(e)){const r=this._automationEvents.findIndex(s=>sn(e)&&Ce(s)?s.startTime+s.duration>=n:Ie(s)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),on(e)){const s=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Te(o)){if(s!==void 0&&yt(s))throw new Error("The internal list is malformed.");const i=s===void 0?o.insertTime:Ce(s)?s.startTime+s.duration:Ie(s),a=s===void 0?this._defaultValue:Ce(s)?s.values[s.values.length-1]:s.value,c=Ze(o)?dr(n,i,a,o):fr(n,i,a,o),l=Ze(o)?cr(c,n,this._currenTime):lr(c,n,this._currenTime);this._automationEvents.push(l)}if(s!==void 0&&yt(s)&&this._automationEvents.push(rn(this.getValue(n),n)),s!==void 0&&Ce(s)&&s.startTime+s.duration>n){const i=n-s.startTime,a=(s.values.length-1)/s.duration,c=Math.max(2,1+Math.ceil(i*a)),l=i/(c-1)*a,u=s.values.slice(0,c);if(l<1)for(let d=1;d<c;d+=1){const f=l*d%1;u[d]=s.values[d-1]*(1-f)+s.values[d]*f}this._automationEvents[this._automationEvents.length-1]=ro(u,s.startTime,i)}}}else{const r=this._automationEvents.findIndex(i=>Ie(i)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Ce(o)&&Ie(o)+o.duration>n)return!1;const s=Ze(e)?cr(e.value,e.endTime,this._currenTime):kt(e)?lr(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(Ce(e)&&n+e.duration>Ie(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ie(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];yt(o)&&r.unshift(rn(It(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(i=>Ie(i)>e),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[o];if(s!==void 0&&yt(s)&&(r===void 0||!Te(r)||r.insertTime>e))return oo(e,It(this._automationEvents,o-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Mn(s)&&(r===void 0||!Te(r)))return s.value;if(s!==void 0&&Ce(s)&&(r===void 0||!Te(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?Da(e,s):s.values[s.values.length-1];if(s!==void 0&&Te(s)&&(r===void 0||!Te(r)))return s.value;if(r!==void 0&&Ze(r)){const[i,a]=ur(this._automationEvents,o,s,r,this._defaultValue);return dr(e,i,a,r)}if(r!==void 0&&kt(r)){const[i,a]=ur(this._automationEvents,o,s,r,this._defaultValue);return fr(e,i,a,r)}return this._defaultValue}}const $a=t=>({cancelTime:t,type:"cancelAndHold"}),Ba=t=>({cancelTime:t,type:"cancelScheduledValues"}),Va=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Wa=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),xa=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Fa=()=>new DOMException("","AbortError"),ja=t=>(e,n,[r,o,s],i)=>{t(e[o],[n,r,s],a=>a[0]===n&&a[1]===r,i)},za=t=>(e,n,r)=>{const o=[];for(let s=0;s<r.numberOfInputs;s+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ga=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},et=new WeakSet,so=new WeakMap,io=new WeakMap,ao=new WeakMap,co=new WeakMap,lo=new WeakMap,uo=new WeakMap,an=new WeakMap,cn=new WeakMap,ln=new WeakMap,fo={construct(){return fo}},qa=t=>{try{const e=new Proxy(t,fo);new e}catch{return!1}return!0},hr=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pr=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(hr);for(;o!==null;){const s=o[1].slice(1,-1),i=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(i),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(hr)}return[n.join(";"),r]},mr=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gr=t=>{if(!qa(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Ha=(t,e,n,r,o,s,i,a,c,l,u,d,f)=>{let m=0;return(h,p,v={credentials:"omit"})=>{const g=u.get(h);if(g!==void 0&&g.has(p))return Promise.resolve();const A=l.get(h);if(A!==void 0){const C=A.get(p);if(C!==void 0)return C}const b=s(h),k=b.audioWorklet===void 0?o(p).then(([C,M])=>{const[O,E]=pr(C,M),S=`${O};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(S)}).then(()=>{const C=f._AWGS.pop();if(C===void 0)throw new SyntaxError;r(b.currentTime,b.sampleRate,()=>C(class{},void 0,(M,O)=>{if(M.trim()==="")throw e();const E=cn.get(b);if(E!==void 0){if(E.has(M))throw e();gr(O),mr(O.parameterDescriptors),E.set(M,O)}else gr(O),mr(O.parameterDescriptors),cn.set(b,new Map([[M,O]]))},b.sampleRate,void 0,void 0))}):Promise.all([o(p),Promise.resolve(t(d,d))]).then(([[C,M],O])=>{const E=m+1;m=E;const[S,P]=pr(C,M),H=`${S};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${O?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${O?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${O?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,j=new Blob([H],{type:"application/javascript; charset=utf-8"}),U=URL.createObjectURL(j);return b.audioWorklet.addModule(U,v).then(()=>{if(a(b))return b;const R=i(b);return R.audioWorklet.addModule(U,v).then(()=>R)}).then(R=>{if(c===null)throw new SyntaxError;try{new c(R,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(U))});return A===void 0?l.set(h,new Map([[p,k]])):A.set(p,k),k.then(()=>{const C=u.get(h);C===void 0?u.set(h,new Set([p])):C.add(p)}).finally(()=>{const C=l.get(h);C!==void 0&&C.delete(p)}),k}},be=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Bt=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},ho=(t,e,n,r)=>{const o=be(t,e),s=Bt(o,i=>i[0]===n&&i[1]===r);return o.size===0&&t.delete(e),s},pt=t=>be(uo,t),Tt=t=>{if(et.has(t))throw new Error("The AudioNode is already stored.");et.add(t),pt(t).forEach(e=>e(!0))},po=t=>"port"in t,kn=t=>{if(!et.has(t))throw new Error("The AudioNode is not stored.");et.delete(t),pt(t).forEach(e=>e(!1))},un=(t,e)=>{!po(t)&&e.every(n=>n.size===0)&&kn(t)},Ya=(t,e,n,r,o,s,i,a,c,l,u,d,f)=>{const m=new WeakMap;return(h,p,v,g,A)=>{const{activeInputs:b,passiveInputs:k}=s(p),{outputs:C}=s(h),M=a(h),O=E=>{const S=c(p),P=c(h);if(E){const T=ho(k,h,v,g);t(b,h,T,!1),!A&&!d(h)&&n(P,S,v,g),f(p)&&Tt(p)}else{const T=r(b,h,v,g);e(k,g,T,!1),!A&&!d(h)&&o(P,S,v,g);const V=i(p);if(V===0)u(p)&&un(p,b);else{const x=m.get(p);x!==void 0&&clearTimeout(x),m.set(p,setTimeout(()=>{u(p)&&un(p,b)},V*1e3))}}};return l(C,[p,v,g],E=>E[0]===p&&E[1]===v&&E[2]===g,!0)?(M.add(O),u(h)?t(b,h,[v,g,O],!0):e(k,g,[h,v,O],!0),!0):!1}},Xa=t=>(e,n,[r,o,s],i)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[o,n,s]])):t(a,[o,n,s],c=>c[0]===o&&c[1]===n,i)},Za=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Ka=t=>(e,n)=>{t(e).add(n)},mo=(t,e)=>t.context===e,_r=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},xe=()=>new DOMException("","IndexSizeError"),Qa=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?xe():r}})(t.getChannelData)},Ja={numberOfChannels:1},ec=(t,e,n,r,o,s,i,a)=>{let c=null;return class go{constructor(u){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:m}={...Ja,...u};c===null&&(c=new o(1,1,44100));const h=r!==null&&e(s,s)?new r({length:d,numberOfChannels:f,sampleRate:m}):c.createBuffer(f,d,m);if(h.numberOfChannels===0)throw n();return typeof h.copyFromChannel!="function"?(i(h),Qa(h)):e(_r,()=>_r(h))||a(h),t.add(h),h}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===go.prototype||t.has(u)}}},Vt=-34028234663852886e22,In=-Vt,$e=t=>et.has(t),tc={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},nc=(t,e,n,r,o,s,i,a)=>class extends t{constructor(l,u){const d=s(l),f={...tc,...u},m=o(d,f),h=i(d),p=h?e():null;super(l,!1,m,p),this._audioBufferSourceNodeRenderer=p,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,h,m.playbackRate,In,Vt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?l:d}get playbackRate(){return this._playbackRate}start(l=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(l,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[l,u]:[l,u,d]),this.context.state!=="closed"){Tt(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),$e(this)&&kn(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},rc=(t,e,n,r,o)=>()=>{const s=new WeakMap;let i=null,a=null;const c=async(l,u)=>{let d=n(l);const f=mo(d,u);if(!f){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,m),i!==null&&d.start(...i),a!==null&&d.stop(a)}return s.set(u,d),f?await t(u,l.playbackRate,d.playbackRate):await r(u,l.playbackRate,d.playbackRate),await o(l,u,d),d};return{set start(l){i=l},set stop(l){a=l},render(l,u){const d=s.get(u);return d!==void 0?Promise.resolve(d):c(l,u)}}},oc=t=>"playbackRate"in t,sc=t=>"frequency"in t&&"gain"in t,ic=t=>"offset"in t,ac=t=>!("frequency"in t)&&"gain"in t,cc=t=>"detune"in t&&"frequency"in t,lc=t=>"pan"in t,he=t=>be(so,t),mt=t=>be(ao,t),dn=(t,e)=>{const{activeInputs:n}=he(t);n.forEach(o=>o.forEach(([s])=>{e.includes(t)||dn(s,[...e,t])}));const r=oc(t)?[t.playbackRate]:po(t)?Array.from(t.parameters.values()):sc(t)?[t.Q,t.detune,t.frequency,t.gain]:ic(t)?[t.offset]:ac(t)?[t.gain]:cc(t)?[t.detune,t.frequency]:lc(t)?[t.pan]:[];for(const o of r){const s=mt(o);s!==void 0&&s.activeInputs.forEach(([i])=>dn(i,e))}$e(t)&&kn(t)},uc=t=>{dn(t.destination,[])},dc=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),fc=(t,e,n,r,o,s,i,a)=>class extends t{constructor(l,u){const d=s(l),f=i(d),m=o(d,u,f),h=f?e(a):null;super(l,!1,m,h),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},hc=t=>{const e=new WeakMap,n=async(r,o)=>{const s=o.destination;return e.set(o,s),await t(r,o,s),s};return{render(r,o){const s=e.get(o);return s!==void 0?Promise.resolve(s):n(r,o)}}},pc=(t,e,n,r,o,s,i,a)=>(c,l)=>{const u=l.listener,d=()=>{const C=new Float32Array(1),M=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),O=i(l);let E=!1,S=[0,0,-1,0,1,0],P=[0,0,0];const T=()=>{if(E)return;E=!0;const j=r(l,256,9,0);j.onaudioprocess=({inputBuffer:U})=>{const R=[s(U,C,0),s(U,C,1),s(U,C,2),s(U,C,3),s(U,C,4),s(U,C,5)];R.some(($,X)=>$!==S[X])&&(u.setOrientation(...R),S=R);const Y=[s(U,C,6),s(U,C,7),s(U,C,8)];Y.some(($,X)=>$!==P[X])&&(u.setPosition(...Y),P=Y)},M.connect(j)},V=j=>U=>{U!==S[j]&&(S[j]=U,u.setOrientation(...S))},x=j=>U=>{U!==P[j]&&(P[j]=U,u.setPosition(...P))},H=(j,U,R)=>{const Y=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U});Y.connect(M,0,j),Y.start(),Object.defineProperty(Y.offset,"defaultValue",{get(){return U}});const $=t({context:c},O,Y.offset,In,Vt);return a($,"value",X=>()=>X.call($),X=>ne=>{try{X.call($,ne)}catch(ie){if(ie.code!==9)throw ie}T(),O&&R(ne)}),$.cancelAndHoldAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.cancelAndHoldAtTime),$.cancelScheduledValues=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.cancelScheduledValues),$.exponentialRampToValueAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.exponentialRampToValueAtTime),$.linearRampToValueAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.linearRampToValueAtTime),$.setTargetAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.setTargetAtTime),$.setValueAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.setValueAtTime),$.setValueCurveAtTime=(X=>O?()=>{throw o()}:(...ne)=>{const ie=X.apply($,ne);return T(),ie})($.setValueCurveAtTime),$};return{forwardX:H(0,0,V(0)),forwardY:H(1,0,V(1)),forwardZ:H(2,-1,V(2)),positionX:H(6,0,x(0)),positionY:H(7,0,x(1)),positionZ:H(8,0,x(2)),upX:H(3,0,V(3)),upY:H(4,1,V(4)),upZ:H(5,0,V(5))}},{forwardX:f,forwardY:m,forwardZ:h,positionX:p,positionY:v,positionZ:g,upX:A,upY:b,upZ:k}=u.forwardX===void 0?d():u;return{get forwardX(){return f},get forwardY(){return m},get forwardZ(){return h},get positionX(){return p},get positionY(){return v},get positionZ(){return g},get upX(){return A},get upY(){return b},get upZ(){return k}}},St=t=>"context"in t,gt=t=>St(t[0]),Fe=(t,e,n,r)=>{for(const o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},vr=(t,e,[n,r],o)=>{Fe(t,[e,n,r],s=>s[0]===e&&s[1]===n,o)},wr=(t,[e,n,r],o)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):Fe(s,[n,r],i=>i[0]===n,o)},_o=t=>"inputs"in t,fn=(t,e,n,r)=>{if(_o(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},vo=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},mc=(t,e,n)=>Bt(t,r=>r[0]===e&&r[1]===n),wo=(t,e)=>{if(!pt(t).delete(e))throw new Error("Missing the expected event listener.")},bo=(t,e,n)=>{const r=be(t,e),o=Bt(r,s=>s[0]===n);return r.size===0&&t.delete(e),o},hn=(t,e,n,r)=>{_o(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},ve=t=>be(io,t),ct=t=>be(co,t),Be=t=>an.has(t),Nt=t=>!et.has(t),br=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),i=s.getChannelData(0);i[0]=1,i[1]=1;const a=t.createBufferSource();a.buffer=s,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),Zt=(t,e)=>{const n=new Map;for(const r of t)for(const o of r){const s=n.get(o);n.set(o,s===void 0?1:s+1)}n.forEach((r,o)=>e(o,r))},Rt=t=>"context"in t,gc=t=>{const e=new Map;t.connect=(n=>(r,o=0,s=0)=>{const i=Rt(r)?n(r,o,s):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:s,output:o}]):a.every(c=>c.input!==s||c.output!==o)&&a.push({input:s,output:o}),i})(t.connect.bind(t)),t.disconnect=(n=>(r,o,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[i,a]of e){const c=a.filter(l=>l.output!==r);c.length===0?e.delete(i):e.set(i,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{const i=e.get(r);if(i!==void 0){const a=i.filter(c=>c.output!==o&&(c.input!==s||s===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[i,a]of e)a.forEach(c=>{Rt(i)?t.connect(i,c.output,c.input):t.connect(i,c.output)})})(t.disconnect)},_c=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=mt(e),{outputs:i}=he(t),a=pt(t),c=l=>{const u=ve(t),d=ct(e);if(l){const f=bo(s,t,n);vr(o,t,f,!1),!r&&!Be(t)&&u.connect(d,n)}else{const f=mc(o,t,n);wr(s,f,!1),!r&&!Be(t)&&u.disconnect(d,n)}};return Fe(i,[e,n],l=>l[0]===e&&l[1]===n,!0)?(a.add(c),$e(t)?vr(o,t,[n,c],!0):wr(s,[t,n,c],!0),!0):!1},vc=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=he(e),i=vo(o[r],t,n);return i===null?[ho(s,t,n,r)[2],!1]:[i[2],!0]},wc=(t,e,n)=>{const{activeInputs:r,passiveInputs:o}=mt(e),s=vo(r,t,n);return s===null?[bo(o,t,n)[1],!1]:[s[2],!0]},Tn=(t,e,n,r,o)=>{const[s,i]=vc(t,n,r,o);if(s!==null&&(wo(t,s),i&&!e&&!Be(t)&&hn(ve(t),ve(n),r,o)),$e(n)){const{activeInputs:a}=he(n);un(n,a)}},Sn=(t,e,n,r)=>{const[o,s]=wc(t,n,r);o!==null&&(wo(t,o),s&&!e&&!Be(t)&&ve(t).disconnect(ct(n),r))},bc=(t,e)=>{const n=he(t),r=[];for(const o of n.outputs)gt(o)?Tn(t,e,...o):Sn(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},yc=(t,e,n)=>{const r=he(t),o=[];for(const s of r.outputs)s[1]===n&&(gt(s)?Tn(t,e,...s):Sn(t,e,...s),o.push(s[0]),r.outputs.delete(s));return o},Ec=(t,e,n,r,o)=>{const s=he(t);return Array.from(s.outputs).filter(i=>i[0]===n&&(r===void 0||i[1]===r)&&(o===void 0||i[2]===o)).map(i=>(gt(i)?Tn(t,e,...i):Sn(t,e,...i),s.outputs.delete(i),i[0]))},Ac=(t,e,n,r,o,s,i,a,c,l,u,d,f,m,h,p)=>class extends l{constructor(g,A,b,k){super(b),this._context=g,this._nativeAudioNode=b;const C=u(g);d(C)&&n(br,()=>br(C,p))!==!0&&gc(b),io.set(this,b),uo.set(this,new Set),g.state!=="closed"&&A&&Tt(this),t(this,k,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,A=0,b=0){if(A<0||A>=this._nativeAudioNode.numberOfOutputs)throw o();const k=u(this._context),C=h(k);if(f(g)||m(g))throw s();if(St(g)){const E=ve(g);try{const P=fn(this._nativeAudioNode,E,A,b),T=Nt(this);(C||T)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!T&&Nt(g)&&Tt(g)}catch(P){throw P.code===12?s():P}if(e(this,g,A,b,C)){const P=c([this],g);Zt(P,r(C))}return g}const M=ct(g);if(M.name==="playbackRate"&&M.maxValue===1024)throw i();try{this._nativeAudioNode.connect(M,A),(C||Nt(this))&&this._nativeAudioNode.disconnect(M,A)}catch(E){throw E.code===12?s():E}if(_c(this,g,A,C)){const E=c([this],g);Zt(E,r(C))}}disconnect(g,A,b){let k;const C=u(this._context),M=h(C);if(g===void 0)k=bc(this,M);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw o();k=yc(this,M,g)}else{if(A!==void 0&&(A<0||A>=this.numberOfOutputs)||St(g)&&b!==void 0&&(b<0||b>=g.numberOfInputs))throw o();if(k=Ec(this,M,g,A,b),k.length===0)throw s()}for(const O of k){const E=c([this],O);Zt(E,a)}}},Nc=(t,e,n,r,o,s,i,a,c,l,u,d,f)=>(m,h,p,v=null,g=null)=>{const A=p.value,b=new Ua(A),k=h?r(b):null,C={get defaultValue(){return A},get maxValue(){return v===null?p.maxValue:v},get minValue(){return g===null?p.minValue:g},get value(){return p.value},set value(M){p.value=M,C.setValueAtTime(M,m.context.currentTime)},cancelAndHoldAtTime(M){if(typeof p.cancelAndHoldAtTime=="function")k===null&&b.flush(m.context.currentTime),b.add(o(M)),p.cancelAndHoldAtTime(M);else{const O=Array.from(b).pop();k===null&&b.flush(m.context.currentTime),b.add(o(M));const E=Array.from(b).pop();p.cancelScheduledValues(M),O!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?p.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?p.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?p.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&p.setValueCurveAtTime(E.values,E.startTime,E.duration))}return C},cancelScheduledValues(M){return k===null&&b.flush(m.context.currentTime),b.add(s(M)),p.cancelScheduledValues(M),C},exponentialRampToValueAtTime(M,O){if(M===0)throw new RangeError;if(!Number.isFinite(O)||O<0)throw new RangeError;const E=m.context.currentTime;return k===null&&b.flush(E),Array.from(b).length===0&&(b.add(l(A,E)),p.setValueAtTime(A,E)),b.add(i(M,O)),p.exponentialRampToValueAtTime(M,O),C},linearRampToValueAtTime(M,O){const E=m.context.currentTime;return k===null&&b.flush(E),Array.from(b).length===0&&(b.add(l(A,E)),p.setValueAtTime(A,E)),b.add(a(M,O)),p.linearRampToValueAtTime(M,O),C},setTargetAtTime(M,O,E){return k===null&&b.flush(m.context.currentTime),b.add(c(M,O,E)),p.setTargetAtTime(M,O,E),C},setValueAtTime(M,O){return k===null&&b.flush(m.context.currentTime),b.add(l(M,O)),p.setValueAtTime(M,O),C},setValueCurveAtTime(M,O,E){const S=M instanceof Float32Array?M:new Float32Array(M);if(d!==null&&d.name==="webkitAudioContext"){const P=O+E,T=m.context.sampleRate,V=Math.ceil(O*T),x=Math.floor(P*T),H=x-V,j=new Float32Array(H);for(let R=0;R<H;R+=1){const Y=(S.length-1)/E*((V+R)/T-O),$=Math.floor(Y),X=Math.ceil(Y);j[R]=$===X?S[$]:(1-(Y-$))*S[$]+(1-(X-Y))*S[X]}k===null&&b.flush(m.context.currentTime),b.add(u(j,O,E)),p.setValueCurveAtTime(j,O,E);const U=x/T;U<P&&f(C,j[j.length-1],U),f(C,S[S.length-1],P)}else k===null&&b.flush(m.context.currentTime),b.add(u(S,O,E)),p.setValueCurveAtTime(S,O,E);return C}};return n.set(C,p),e.set(C,m),t(C,k),C},Cc=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:s}=n;e.setTargetAtTime(o,r,s)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:s}=n;e.setValueCurveAtTime(s,o,r)}else throw new Error("Can't apply an unknown automation.")}});class yo{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Oc={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Mc=(t,e,n,r,o,s,i,a,c,l,u,d,f,m)=>class extends e{constructor(p,v,g){var A;const b=a(p),k=c(b),C=u({...Oc,...g});f(C);const M=cn.get(b),O=M==null?void 0:M.get(v),E=k||b.state!=="closed"?b:(A=i(b))!==null&&A!==void 0?A:b,S=o(E,k?null:p.baseLatency,l,v,O,C),P=k?r(v,C,O):null;super(p,!0,S,P);const T=[];S.parameters.forEach((x,H)=>{const j=n(this,k,x);T.push([H,j])}),this._nativeAudioWorkletNode=S,this._onprocessorerror=null,this._parameters=new yo(T),k&&t(b,this);const{activeInputs:V}=s(this);d(S,V)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(p){const v=typeof p=="function"?m(this,p):null;this._nativeAudioWorkletNode.onprocessorerror=v;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===v?p:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Lt(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(o,o+128);else{const i=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(i)}}}const Eo=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)},Pt=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const o=[],s=typeof e=="number"?e:e[r];for(let i=0;i<s;i+=1)o.push(new Float32Array(128));n.push(o)}return n},kc=(t,e)=>{const n=be(ln,t),r=ve(e);return be(n,r)},Ic=async(t,e,n,r,o,s,i)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,l=o.reduce((v,g)=>v+g,0),u=l===0?null:n.createBuffer(l,a,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const d=he(t),f=await kc(n,t),m=Pt(r.numberOfInputs,r.channelCount),h=Pt(r.numberOfOutputs,o),p=Array.from(t.parameters.keys()).reduce((v,g)=>({...v,[g]:new Float32Array(128)}),{});for(let v=0;v<a;v+=128){if(r.numberOfInputs>0&&e!==null)for(let g=0;g<r.numberOfInputs;g+=1)for(let A=0;A<r.channelCount;A+=1)Lt(e,m[g],A,A,v);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:g},A)=>{Lt(e,p,g,c+A,v)});for(let g=0;g<r.numberOfInputs;g+=1)for(let A=0;A<o[g];A+=1)h[g][A].byteLength===0&&(h[g][A]=new Float32Array(128));try{const g=m.map((b,k)=>d.activeInputs[k].size===0?[]:b),A=i(v/n.sampleRate,n.sampleRate,()=>f.process(g,h,p));if(u!==null)for(let b=0,k=0;b<r.numberOfOutputs;b+=1){for(let C=0;C<o[b];C+=1)Eo(u,h[b],C,k+C,v);k+=o[b]}if(!A)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return u},Tc=(t,e,n,r,o,s,i,a,c,l,u,d,f,m,h,p)=>(v,g,A)=>{const b=new WeakMap;let k=null;const C=async(M,O)=>{let E=u(M),S=null;const P=mo(E,O),T=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(d===null){const V=T.reduce((U,R)=>U+R,0),x=o(O,{channelCount:Math.max(1,V),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,V)}),H=[];for(let U=0;U<M.numberOfOutputs;U+=1)H.push(r(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[U]}));const j=i(O,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});j.connect=e.bind(null,H),j.disconnect=c.bind(null,H),S=[x,H,j]}else P||(E=new d(O,v));if(b.set(O,S===null?E:S[2]),S!==null){if(k===null){if(A===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=M.channelCount*M.numberOfInputs,Y=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length,$=R+Y;k=Ic(M,$===0?null:await(async()=>{const ne=new f($,Math.ceil(M.context.length/128)*128,O.sampleRate),ie=[],ze=[];for(let oe=0;oe<g.numberOfInputs;oe+=1)ie.push(i(ne,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),ze.push(o(ne,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const Ge=await Promise.all(Array.from(M.parameters.values()).map(async oe=>{const pe=s(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await m(ne,oe,pe.offset),pe})),qe=r(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+Y)});for(let oe=0;oe<g.numberOfInputs;oe+=1){ie[oe].connect(ze[oe]);for(let pe=0;pe<g.channelCount;pe+=1)ze[oe].connect(qe,pe,oe*g.channelCount+pe)}for(const[oe,pe]of Ge.entries())pe.connect(qe,0,R+oe),pe.start(0);return qe.connect(ne.destination),await Promise.all(ie.map(oe=>h(M,ne,oe))),p(ne)})(),O,g,T,A,l)}const V=await k,x=n(O,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[H,j,U]=S;V!==null&&(x.buffer=V,x.start(0)),x.connect(H);for(let R=0,Y=0;R<M.numberOfOutputs;R+=1){const $=j[R];for(let X=0;X<T[R];X+=1)H.connect($,Y+X,X);Y+=T[R]}return U}if(P)for(const[V,x]of M.parameters.entries())await t(O,x,E.parameters.get(V));else for(const[V,x]of M.parameters.entries())await m(O,x,E.parameters.get(V));return await h(M,O,E),E};return{render(M,O){a(O,M);const E=b.get(O);return E!==void 0?Promise.resolve(E):C(M,O)}}},Sc=(t,e)=>(n,r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t.get(n);if(s!==void 0)return s;try{const i=r();return i instanceof Promise?(t.set(n,i),i.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,i),i)}catch{return e.set(n,!1),!1}},Rc=t=>(e,n,r)=>t(n,e,r),Lc=t=>(e,n,r=0,o=0)=>{const s=e[r];if(s===void 0)throw t();return Rt(n)?s.connect(n,0,o):s.connect(n,0)},Pc=t=>e=>(t[0]=e,t[0]),Dc=(t,e,n,r,o,s,i,a)=>(c,l)=>{const u=e.get(c);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=s(c.context),f=a(d);if(u===l){if(e.delete(c),!f&&i(c)){const m=r(c),{outputs:h}=n(c);for(const p of h)if(gt(p)){const v=r(p[0]);t(m,v,p[1],p[2])}else{const v=o(p[0]);m.connect(v,p[1])}}}else e.set(c,u-l)},Uc=t=>(e,n,r,o)=>t(e[o],s=>s[0]===n&&s[1]===r),$c=t=>(e,n)=>{t(e).delete(n)},Bc=t=>"delayTime"in t,Vc=(t,e,n)=>function r(o,s){const i=St(s)?s:n(t,s);if(Bc(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:a}=e(i);return Array.from(a).map(c=>r([...o,i],c[0])).reduce((c,l)=>c.concat(l),[])},Et=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},Wc=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?Et(t,e,n).disconnect():Rt(n)?r===void 0?e.forEach(s=>s.disconnect(n)):o===void 0?Et(t,e,r).disconnect(n,0):Et(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(s=>s.disconnect(n)):Et(t,e,r).disconnect(n,0),xc=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const o=t.document.head;if(o===null)r(new SyntaxError);else{const s=t.document.createElement("script"),i=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(i),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(u,d,f,m,h)=>{if(d===a||d===t.location.href&&f===1&&m===1)return l(),r(h),!1;if(c!==null)return c(u,d,f,m,h)},s.onerror=()=>{l(),r(new SyntaxError)},s.onload=()=>{l(),n()},s.src=a,s.type="module",o.appendChild(s)}}),Fc=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,o)}},jc=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},zc=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},Gc=(t,e)=>n=>e(t,n),qc=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Hc=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},Yc=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Xc=t=>e=>t.get(e),we=()=>new DOMException("","InvalidStateError"),Zc=t=>e=>{const n=t.get(e);if(n===void 0)throw we();return n},Kc=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},Qc=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Jc=()=>new DOMException("","InvalidAccessError"),el=(t,e,n,r,o,s)=>i=>(a,c)=>{const l=t.get(a);if(l===void 0){if(!i&&s(a)){const u=r(a),{outputs:d}=n(a);for(const f of d)if(gt(f)){const m=r(f[0]);e(u,m,f[1],f[2])}else{const m=o(f[0]);u.disconnect(m,f[1])}}t.set(a,c)}else t.set(a,l+c)},tl=t=>e=>t!==null&&e instanceof t,nl=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,rl=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,ol=t=>e=>t!==null&&e instanceof t,sl=t=>t!==null&&t.isSecureContext,il=(t,e,n,r)=>class extends t{constructor(s,i){const a=n(s),c=e(a,i);if(r(a))throw new TypeError;super(s,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},al=(t,e,n,r,o)=>class extends r{constructor(i={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(i)}catch(u){throw u.code===12&&u.message==="sampleRate is not in range"?e():u}if(a===null)throw n();if(!dc(i.latencyHint))throw new TypeError(`The provided value '${i.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(i.sampleRate!==void 0&&a.sampleRate!==i.sampleRate)throw e();super(a,2);const{latencyHint:c}=i,{sampleRate:l}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/l:c==="interactive"||c===void 0?256/l:c==="playback"?1024/l:Math.max(2,Math.min(128,Math.round(c*l/128)))*128/l,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";const u=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",u)};a.addEventListener("statechange",u)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),uc(this)}))}resume(){return this._state==="suspended"?new Promise((i,a)=>{const c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?i():this.resume().then(i,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(i=>{throw i===void 0||i.code===15?t():i})}suspend(){return this._nativeAudioContext.suspend().catch(i=>{throw i===void 0?t():i})}},cl=(t,e,n,r,o,s)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,lo.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},yr=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},ll=(t,e)=>(n,r,o)=>{const s=new Set;return n.connect=(i=>(a,c=0,l=0)=>{const u=s.size===0;if(e(a))return i.call(n,a,c,l),t(s,[a,c,l],d=>d[0]===a&&d[1]===c&&d[2]===l,!0),u&&r(),a;i.call(n,a,c),t(s,[a,c],d=>d[0]===a&&d[1]===c,!0),u&&r()})(n.connect),n.disconnect=(i=>(a,c,l)=>{const u=s.size>0;if(a===void 0)i.apply(n),s.clear();else if(typeof a=="number"){i.call(n,a);for(const f of s)f[1]===a&&s.delete(f)}else{e(a)?i.call(n,a,c,l):i.call(n,a,c);for(const f of s)f[0]===a&&(c===void 0||f[1]===c)&&(l===void 0||f[2]===l)&&s.delete(f)}const d=s.size===0;u&&d&&o()})(n.disconnect),n},De=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},_t=(t,e)=>{De(t,e,"channelCount"),De(t,e,"channelCountMode"),De(t,e,"channelInterpretation")},ul=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Rn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},dl=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,s)=>{if(n)throw we();e.call(t,r,o,s),n=!0}})(t.start)},Ao=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)},No=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},fl=(t,e,n,r,o,s,i,a,c,l,u)=>(d,f)=>{const m=d.createBufferSource();return _t(m,f),Rn(m,f,"playbackRate"),De(m,f,"buffer"),De(m,f,"loop"),De(m,f,"loopEnd"),De(m,f,"loopStart"),e(n,()=>n(d))||dl(m),e(r,()=>r(d))||c(m),e(o,()=>o(d))||l(m,d),e(s,()=>s(d))||Ao(m),e(i,()=>i(d))||u(m,d),e(a,()=>a(d))||No(m),t(d,m),m},hl=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,pl=(t,e)=>(n,r,o)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}o&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const i=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(i,"channelCount",a=>()=>a.call(i),a=>c=>{a.call(i,c);try{s.channelCount=c}catch(l){if(c>s.maxChannelCount)throw l}}),e(i,"channelCountMode",a=>()=>a.call(i),a=>c=>{a.call(i,c),s.channelCountMode=c}),e(i,"channelInterpretation",a=>()=>a.call(i),a=>c=>{a.call(i,c),s.channelInterpretation=c}),Object.defineProperty(i,"maxChannelCount",{get:()=>s.maxChannelCount}),i.connect(s),i},ml=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,gl=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},_l=(t,e,n,r,o)=>(s,i,a,c,l,u)=>{if(a!==null)try{const d=new a(s,c,u),f=new Map;let m=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>m,set:h=>{typeof m=="function"&&d.removeEventListener("processorerror",m),m=typeof h=="function"?h:null,typeof m=="function"&&d.addEventListener("processorerror",m)}}}),d.addEventListener=(h=>(...p)=>{if(p[0]==="processorerror"){const v=typeof p[1]=="function"?p[1]:typeof p[1]=="object"&&p[1]!==null&&typeof p[1].handleEvent=="function"?p[1].handleEvent:null;if(v!==null){const g=f.get(p[1]);g!==void 0?p[1]=g:(p[1]=A=>{A.type==="error"?(Object.defineProperties(A,{type:{value:"processorerror"}}),v(A)):v(new ErrorEvent(p[0],{...A}))},f.set(v,p[1]))}}return h.call(d,"error",p[1],p[2]),h.call(d,...p)})(d.addEventListener),d.removeEventListener=(h=>(...p)=>{if(p[0]==="processorerror"){const v=f.get(p[1]);v!==void 0&&(f.delete(p[1]),p[1]=v)}return h.call(d,"error",p[1],p[2]),h.call(d,p[0],p[1],p[2])})(d.removeEventListener),u.numberOfOutputs!==0){const h=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(h).connect(s.destination),o(d,()=>h.disconnect(),()=>h.connect(s.destination))}return d}catch(d){throw d.code===11?r():d}if(l===void 0)throw r();return gl(u),e(s,i,l,u)},vl=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),wl=t=>new Promise((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),o.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),o.close(),n(s)},o.postMessage(t)}),bl=async(t,e)=>{const n=await wl(e);return new t(n)},yl=(t,e,n,r)=>{let o=ln.get(t);o===void 0&&(o=new WeakMap,ln.set(t,o));const s=bl(n,r);return o.set(e,s),s},El=(t,e,n,r,o,s,i,a,c,l,u,d,f)=>(m,h,p,v)=>{if(v.numberOfInputs===0&&v.numberOfOutputs===0)throw c();const g=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(g.some(I=>I<1))throw c();if(g.length!==v.numberOfOutputs)throw e();if(v.channelCountMode!=="explicit")throw c();const A=v.channelCount*v.numberOfInputs,b=g.reduce((I,B)=>I+B,0),k=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length;if(A+k>6||b>6)throw c();const C=new MessageChannel,M=[],O=[];for(let I=0;I<v.numberOfInputs;I+=1)M.push(i(m,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),O.push(o(m,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const E=[];if(p.parameterDescriptors!==void 0)for(const{defaultValue:I,maxValue:B,minValue:le,name:re}of p.parameterDescriptors){const te=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:v.parameterData[re]!==void 0?v.parameterData[re]:I===void 0?0:I});Object.defineProperties(te.offset,{defaultValue:{get:()=>I===void 0?0:I},maxValue:{get:()=>B===void 0?In:B},minValue:{get:()=>le===void 0?Vt:le}}),E.push(te)}const S=r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,A+k)}),P=vl(h,m.sampleRate),T=a(m,P,A+k,Math.max(1,b)),V=o(m,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),x=[];for(let I=0;I<v.numberOfOutputs;I+=1)x.push(r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[I]}));for(let I=0;I<v.numberOfInputs;I+=1){M[I].connect(O[I]);for(let B=0;B<v.channelCount;B+=1)O[I].connect(S,B,I*v.channelCount+B)}const H=new yo(p.parameterDescriptors===void 0?[]:p.parameterDescriptors.map(({name:I},B)=>{const le=E[B];return le.connect(S,0,A+B),le.start(0),[I,le.offset]}));S.connect(T);let j=v.channelInterpretation,U=null;const R=v.numberOfOutputs===0?[T]:x,Y={get bufferSize(){return P},get channelCount(){return v.channelCount},set channelCount(I){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(I){throw n()},get channelInterpretation(){return j},set channelInterpretation(I){for(const B of M)B.channelInterpretation=I;j=I},get context(){return T.context},get inputs(){return M},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return U},set onprocessorerror(I){typeof U=="function"&&Y.removeEventListener("processorerror",U),U=typeof I=="function"?I:null,typeof U=="function"&&Y.addEventListener("processorerror",U)},get parameters(){return H},get port(){return C.port2},addEventListener(...I){return T.addEventListener(I[0],I[1],I[2])},connect:t.bind(null,R),disconnect:l.bind(null,R),dispatchEvent(...I){return T.dispatchEvent(I[0])},removeEventListener(...I){return T.removeEventListener(I[0],I[1],I[2])}},$=new Map;C.port1.addEventListener=(I=>(...B)=>{if(B[0]==="message"){const le=typeof B[1]=="function"?B[1]:typeof B[1]=="object"&&B[1]!==null&&typeof B[1].handleEvent=="function"?B[1].handleEvent:null;if(le!==null){const re=$.get(B[1]);re!==void 0?B[1]=re:(B[1]=te=>{u(m.currentTime,m.sampleRate,()=>le(te))},$.set(le,B[1]))}}return I.call(C.port1,B[0],B[1],B[2])})(C.port1.addEventListener),C.port1.removeEventListener=(I=>(...B)=>{if(B[0]==="message"){const le=$.get(B[1]);le!==void 0&&($.delete(B[1]),B[1]=le)}return I.call(C.port1,B[0],B[1],B[2])})(C.port1.removeEventListener);let X=null;Object.defineProperty(C.port1,"onmessage",{get:()=>X,set:I=>{typeof X=="function"&&C.port1.removeEventListener("message",X),X=typeof I=="function"?I:null,typeof X=="function"&&(C.port1.addEventListener("message",X),C.port1.start())}}),p.prototype.port=C.port1;let ne=null;yl(m,Y,p,v).then(I=>ne=I);const ze=Pt(v.numberOfInputs,v.channelCount),Ge=Pt(v.numberOfOutputs,g),qe=p.parameterDescriptors===void 0?[]:p.parameterDescriptors.reduce((I,{name:B})=>({...I,[B]:new Float32Array(128)}),{});let oe=!0;const pe=()=>{v.numberOfOutputs>0&&T.disconnect(V);for(let I=0,B=0;I<v.numberOfOutputs;I+=1){const le=x[I];for(let re=0;re<g[I];re+=1)V.disconnect(le,B+re,re);B+=g[I]}},vt=new Map;T.onaudioprocess=({inputBuffer:I,outputBuffer:B})=>{if(ne!==null){const le=d(Y);for(let re=0;re<P;re+=128){for(let te=0;te<v.numberOfInputs;te+=1)for(let se=0;se<v.channelCount;se+=1)Lt(I,ze[te],se,se,re);p.parameterDescriptors!==void 0&&p.parameterDescriptors.forEach(({name:te},se)=>{Lt(I,qe,te,A+se,re)});for(let te=0;te<v.numberOfInputs;te+=1)for(let se=0;se<g[te];se+=1)Ge[te][se].byteLength===0&&(Ge[te][se]=new Float32Array(128));try{const te=ze.map((me,ke)=>{if(le[ke].size>0)return vt.set(ke,P/128),me;const Ht=vt.get(ke);return Ht===void 0?[]:(me.every(Jo=>Jo.every(es=>es===0))&&(Ht===1?vt.delete(ke):vt.set(ke,Ht-1)),me)});oe=u(m.currentTime+re/m.sampleRate,m.sampleRate,()=>ne.process(te,Ge,qe));for(let me=0,ke=0;me<v.numberOfOutputs;me+=1){for(let ot=0;ot<g[me];ot+=1)Eo(B,Ge[me],ot,ke+ot,re);ke+=g[me]}}catch(te){oe=!1,Y.dispatchEvent(new ErrorEvent("processorerror",{colno:te.colno,filename:te.filename,lineno:te.lineno,message:te.message}))}if(!oe){for(let te=0;te<v.numberOfInputs;te+=1){M[te].disconnect(O[te]);for(let se=0;se<v.channelCount;se+=1)O[re].disconnect(S,se,te*v.channelCount+se)}if(p.parameterDescriptors!==void 0){const te=p.parameterDescriptors.length;for(let se=0;se<te;se+=1){const me=E[se];me.disconnect(S,0,A+se),me.stop()}}S.disconnect(T),T.onaudioprocess=null,Gt?pe():zn();break}}}};let Gt=!1;const qt=i(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),jn=()=>T.connect(qt).connect(m.destination),zn=()=>{T.disconnect(qt),qt.disconnect()},Ko=()=>{if(oe){zn(),v.numberOfOutputs>0&&T.connect(V);for(let I=0,B=0;I<v.numberOfOutputs;I+=1){const le=x[I];for(let re=0;re<g[I];re+=1)V.connect(le,B+re,re);B+=g[I]}}Gt=!0},Qo=()=>{oe&&(jn(),pe()),Gt=!1};return jn(),f(Y,Ko,Qo)},Al=(t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),_t(o,r),o},Nl=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw we()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw we()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw we()}})},Co=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return _t(n,e),Nl(n),n},Cl=(t,e,n,r,o)=>(s,i)=>{if(s.createConstantSource===void 0)return n(s,i);const a=s.createConstantSource();return _t(a,i),Rn(a,i,"offset"),e(r,()=>r(s))||Ao(a),e(o,()=>o(s))||No(a),t(s,a),a},Oo=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ol=(t,e,n,r)=>(o,{offset:s,...i})=>{const a=o.createBuffer(1,2,44100),c=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(o,{...i,gain:s}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(h){l.channelCount=h},get channelCountMode(){return l.channelCountMode},set channelCountMode(h){l.channelCountMode=h},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(h){l.channelInterpretation=h},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(h){c.onended=h},addEventListener(...h){return c.addEventListener(h[0],h[1],h[2])},dispatchEvent(...h){return c.dispatchEvent(h[0])},removeEventListener(...h){return c.removeEventListener(h[0],h[1],h[2])},start(h=0){c.start.call(c,h)},stop(h=0){c.stop.call(c,h)}},f=()=>c.connect(l),m=()=>c.disconnect(l);return t(o,c),r(Oo(d,l),f,m)},Re=(t,e)=>{const n=t.createGain();return _t(n,e),Rn(n,e,"gain"),n},Ml=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,i)=>s.id<i.id?-1:s.id>i.id?1:0);const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},kl=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Ln=(t,e,n,r)=>t.createScriptProcessor(e,n,r),je=()=>new DOMException("","NotSupportedError"),Il=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)),Tl=(t,e,n)=>async(r,o,s)=>{const i=t(r);await Promise.all(i.activeInputs.map((a,c)=>Array.from(a).map(async([l,u])=>{const f=await e(l).render(l,o),m=r.context.destination;!n(l)&&(r!==m||!n(r))&&f.connect(s,u,c)})).reduce((a,c)=>[...a,...c],[]))},Sl=(t,e,n)=>async(r,o,s)=>{const i=e(r);await Promise.all(Array.from(i.activeInputs).map(async([a,c])=>{const u=await t(a).render(a,o);n(a)||u.connect(s,c)}))},Rl=(t,e,n,r)=>o=>t(yr,()=>yr(o))?Promise.resolve(t(r,r)).then(s=>{if(!s){const i=n(o,512,0,1);o.oncomplete=()=>{i.onaudioprocess=null,i.disconnect()},i.onaudioprocess=()=>o.currentTime,i.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const i=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{i.disconnect(),s(a.renderedBuffer)},i.connect(o.destination),o.startRendering()}),Ll=t=>(e,n)=>{t.set(e,n)},Pl=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Dl=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let s=!1,i=!1;try{await r.audioWorklet.addModule(o);const a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>i=!0,c.connect(a),c.start(0),await r.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(o)}return s&&!i},Ul=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},$l=()=>new DOMException("","UnknownError"),Bl=()=>typeof window>"u"?null:window,Vl=(t,e)=>n=>{n.copyFromChannel=(r,o,s=0)=>{const i=t(s),a=t(o);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<c&&d<u;d+=1)r[d]=l[d+i]},n.copyToChannel=(r,o,s=0)=>{const i=t(s),a=t(o);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<c&&d<u;d+=1)l[d+i]=r[d]}},Wl=t=>e=>{e.copyFromChannel=(n=>(r,o,s=0)=>{const i=t(s),a=t(o);if(i<e.length)return n.call(e,r,a,i)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,s=0)=>{const i=t(s),a=t(o);if(i<e.length)return n.call(e,r,a,i)})(e.copyToChannel)},xl=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{const s=o.call(e);return s===r?null:s},o=>s=>o.call(e,s===null?r:s))},Fl=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let c=0;c<a;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))},jl=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Pn=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:s,set:i}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(s),set:r(i)})},zl=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Mo=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Mo(t,e,n+1e-7)}},Gl=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},ql=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Hl=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ko=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Yl=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Io=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Xl=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Zl=t=>{t.start=(e=>(n=0,r=0,o)=>{const s=t.buffer,i=s===null?r:Math.min(s.duration,r);s!==null&&i>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,i,o)})(t.start)},Kl=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Oo(t,n),t.stop=(o=>{let s=!1;return(i=0)=>{if(s)try{o.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else o.call(t,i),s=!0}})(t.stop)},Wt=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Ql=ja(Fe),Jl=Xa(Fe),eu=Uc(Bt),tu=new WeakMap,nu=Hc(tu),nt=Sc(new Map,new WeakMap),Ae=Bl(),To=qc(he),Dn=Tl(he,To,Be),Ve=Zc(lo),rt=kl(Ae),Me=ol(rt),So=new WeakMap,Ro=Fc(Wt),xt=hl(Ae),ru=tl(xt),Lo=nl(Ae),ou=rl(Ae),lt=ml(Ae),Ft=Ac(za(so),Ya(Ql,Jl,fn,eu,hn,he,nu,pt,ve,Fe,$e,Be,Nt),nt,el(an,hn,he,ve,ct,$e),xe,Jc,je,Dc(fn,an,he,ve,ct,Ve,$e,Me),Vc(So,he,be),Ro,Ve,ru,Lo,ou,Me,lt),su=new WeakSet,Er=ul(Ae),Po=Pc(new Uint32Array(1)),iu=Vl(Po,xe),au=Wl(Po),cu=ec(su,nt,je,Er,rt,Pl(Er),iu,au),Un=Za(Re),Do=Sl(To,mt,Be),Uo=Rc(Do),jt=fl(Un,nt,Gl,ql,Hl,ko,Yl,Io,Zl,xl(Pn),Kl),$o=Il(Yc(mt),Do),lu=rc(Uo,jt,ve,$o,Dn),$n=Nc(Ga(ao),So,co,Cc,$a,Ba,Va,Wa,xa,rn,ro,xt,Mo),uu=nc(Ft,lu,$n,we,jt,Ve,Me,Wt),du=fc(Ft,hc,xe,we,pl(Re,Pn),Ve,Me,Dn),zt=ll(Fe,Lo),fu=Fl(we,zt),Bn=Al(xt,fu),hu=Ol(Un,jt,Re,zt),Vn=Cl(Un,nt,hu,ko,Io),pu=Rl(nt,Re,Ln,Ul(Re,rt)),mu=pc($n,Bn,Vn,Ln,je,jl,Me,Pn),Bo=new WeakMap,gu=cl(du,mu,Ro,Me,Bo,Wt),Vo=sl(Ae),Wn=jc(Ae),Wo=new WeakMap,_u=Kc(Wo,rt),Ar=Vo?Ha(nt,je,xc(Ae),Wn,zc(Fa),Ve,_u,Me,lt,new WeakMap,new WeakMap,Dl(lt,rt),Ae):void 0,vu=il(Ft,Ml,Ve,Me),xo=Qc(Bo),wu=Ka(xo),Fo=Lc(xe),bu=$c(xo),jo=Wc(xe),zo=new WeakMap,yu=Gc(zo,be),Eu=El(Fo,xe,we,Bn,Co,Vn,Re,Ln,je,jo,Wn,yu,zt),Au=_l(we,Eu,Re,je,zt),Nu=Tc(Uo,Fo,jt,Bn,Co,Vn,Re,bu,jo,Wn,ve,lt,rt,$o,Dn,pu),Cu=Xc(Wo),Ou=Ll(zo),Nr=Vo?Mc(wu,Ft,$n,Nu,Au,he,Cu,Ve,Me,lt,zl,Ou,Xl,Wt):void 0,Mu=al(we,je,$l,gu,xt),Go="Missing AudioWorklet support. Maybe this is not running in a secure context.",ku=async(t,e,n,r,o)=>{const{encoderId:s,port:i}=await Qr(o,e.sampleRate);if(Nr===void 0)throw new Error(Go);const a=new uu(e,{buffer:t}),c=new vu(e,{mediaStream:r}),l=La(Nr,e,{channelCount:n});return{audioBufferSourceNode:a,encoderId:s,mediaStreamAudioSourceNode:c,port:i,recorderAudioWorkletNode:l}},Iu=(t,e,n,r)=>(o,s,i)=>{var a;const c=(a=s.getAudioTracks()[0])===null||a===void 0?void 0:a.getSettings().sampleRate,l=new Mu({latencyHint:"playback",sampleRate:c}),u=Math.max(1024,Math.ceil(l.baseLatency*l.sampleRate)),d=new cu({length:u,sampleRate:l.sampleRate}),f=[],m=Ra(E=>{if(Ar===void 0)throw new Error(Go);return Ar(l,E)});let h=null,p=null,v=null,g=null,A=!0;const b=E=>{o.dispatchEvent(t("dataavailable",{data:new Blob(E,{type:i})}))},k=async(E,S)=>{const P=await Mt(E,S);v===null?f.push(...P):(b(P),g=k(E,S))},C=()=>(A=!0,l.resume()),M=()=>{v!==null&&(h!==null&&(s.removeEventListener("addtrack",h),s.removeEventListener("removetrack",h)),p!==null&&clearTimeout(p),v.then(async({encoderId:E,mediaStreamAudioSourceNode:S,recorderAudioWorkletNode:P})=>{g!==null&&(g.catch(()=>{}),g=null),await P.stop(),S.disconnect(P);const T=await Mt(E,null);v===null&&await O(),b([...f,...T]),f.length=0,o.dispatchEvent(new Event("stop"))}),v=null)},O=()=>(A=!1,l.suspend());return O(),{get mimeType(){return i},get state(){return v===null?"inactive":A?"recording":"paused"},pause(){if(v===null)throw n();A&&(O(),o.dispatchEvent(new Event("pause")))},resume(){if(v===null)throw n();A||(C(),o.dispatchEvent(new Event("resume")))},start(E){var S;if(v!==null)throw n();if(s.getVideoTracks().length>0)throw r();o.dispatchEvent(new Event("start"));const P=s.getAudioTracks(),T=P.length===0?2:(S=P[0].getSettings().channelCount)!==null&&S!==void 0?S:2;v=Promise.all([C(),m.then(()=>ku(d,l,T,s,i))]).then(async([,{audioBufferSourceNode:x,encoderId:H,mediaStreamAudioSourceNode:j,port:U,recorderAudioWorkletNode:R}])=>(j.connect(R),await new Promise(Y=>{x.onended=Y,x.connect(R),x.start(l.currentTime+u/l.sampleRate)}),x.disconnect(R),await R.record(U),E!==void 0&&(g=k(H,E)),{encoderId:H,mediaStreamAudioSourceNode:j,recorderAudioWorkletNode:R}));const V=s.getTracks();h=()=>{M(),o.dispatchEvent(new ErrorEvent("error",{error:e()}))},s.addEventListener("addtrack",h),s.addEventListener("removetrack",h),p=setInterval(()=>{const x=s.getTracks();(x.length!==V.length||x.some((H,j)=>H!==V[j]))&&h!==null&&h()},1e3)},stop:M}};class Kt{constructor(e,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const o=e.reduce((u,d)=>u+d.byteLength,0);if(n>o||r!==void 0&&n+r>o)throw new RangeError;const s=[],i=r===void 0?o-n:r,a=[];let c=0,l=n;for(const u of e)if(a.length===0)if(u.byteLength>l){c=u.byteLength-l;const d=c>i?i:c;s.push(new DataView(u,l,d)),a.push(u)}else l-=u.byteLength;else if(c<i){c+=u.byteLength;const d=c>i?u.byteLength-c+i:u.byteLength;s.push(new DataView(u,0,d)),a.push(u)}this._buffers=a,this._byteLength=i,this._byteOffset=l,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.setUint8(4,this.getUint8(e+4)),this._internalBuffer.setUint8(5,this.getUint8(e+5)),this._internalBuffer.setUint8(6,this.getUint8(e+6)),this._internalBuffer.setUint8(7,this.getUint8(e+7)),this._internalBuffer.getFloat64(0,n)}getInt16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getInt16(0,n)}getInt32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getInt32(0,n)}getInt8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getInt8(e-r)}getUint16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getUint16(0,n)}getUint32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getUint32(0,n)}getUint8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getUint8(e-r)}setFloat32(e,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setFloat64(e,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3)),this.setUint8(e+4,this._internalBuffer.getUint8(4)),this.setUint8(e+5,this._internalBuffer.getUint8(5)),this.setUint8(e+6,this._internalBuffer.getUint8(6)),this.setUint8(e+7,this._internalBuffer.getUint8(7))}setInt16(e,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setInt32(e,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setInt8(e,n){const[r,o]=this._findDataViewWithOffset(e);r.setInt8(e-o,n)}setUint16(e,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setUint32(e,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setUint8(e,n){const[r,o]=this._findDataViewWithOffset(e);r.setUint8(e-o,n)}_findDataViewWithOffset(e){let n=0;for(const r of this._dataViews){const o=n+r.byteLength;if(e>=n&&e<o)return[r,n];n=o}throw new RangeError}}const Tu=(t,e,n)=>(r,o,s,i)=>{const a=[],c=new o(s,{mimeType:"audio/webm;codecs=pcm"});let l=null,u=()=>{};const d=h=>{r.dispatchEvent(t("dataavailable",{data:new Blob(h,{type:i})}))},f=async(h,p)=>{const v=await Mt(h,p);c.state==="inactive"?a.push(...v):(d(v),l=f(h,p))},m=()=>{c.state!=="inactive"&&(l!==null&&(l.catch(()=>{}),l=null),u(),u=()=>{},c.stop())};return c.addEventListener("error",h=>{m(),r.dispatchEvent(new ErrorEvent("error",{error:h.error}))}),c.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),c.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),c.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return i},get state(){return c.state},pause(){return c.pause()},resume(){return c.resume()},start(h){const[p]=s.getAudioTracks();if(p!==void 0&&c.state==="inactive"){const{channelCount:v,sampleRate:g}=p.getSettings();if(v===void 0)throw new Error("The channelCount is not defined.");if(g===void 0)throw new Error("The sampleRate is not defined.");let A=!1,b=!1,k=0,C=Qr(i,g);u=()=>{b=!0};const M=eo(c,"dataavailable")(({data:O})=>{k+=1,C=C.then(async({dataView:E=null,elementType:S=null,encoderId:P,port:T})=>{const V=await O.arrayBuffer();k-=1;const x=E===null?new Kt([V]):new Kt([...E.buffers,V],E.byteOffset);if(!A&&c.state==="recording"&&!b){const Y=n(x,0);if(Y===null)return{dataView:x,elementType:S,encoderId:P,port:T};const{value:$}=Y;if($!==172351395)return{dataView:E,elementType:S,encoderId:P,port:T};A=!0}const{currentElementType:H,offset:j,contents:U}=e(x,S,v),R=j<x.byteLength?new Kt(x.buffers,x.byteOffset+j):null;return U.forEach(Y=>T.postMessage(Y,Y.map(({buffer:$})=>$))),k===0&&(c.state==="inactive"||b)&&(Mt(P,null).then(Y=>{d([...a,...Y]),a.length=0,r.dispatchEvent(new Event("stop"))}),T.postMessage([]),T.close(),M()),{dataView:R,elementType:H,encoderId:P,port:T}})});h!==void 0&&C.then(({encoderId:O})=>l=f(O,h))}c.start(100)},stop:m}},Su=()=>typeof window>"u"?null:window,qo=(t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=qo(t,e+1);return r===null?null:r+8},Ru=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Ho=[],xn=Su(),Lu=ua(xn),Yo=ra(Lu),Pu=Iu(Yo,aa,ca,Jr),Fn=ma(qo),Du=ha(Fn),Uu=pa(Fn),$u=oa(Du,Uu),Bu=Tu(Yo,$u,Fn),Vu=ia(xn),Wu=fa(xn),xu=la(da,Jr,Pu,Bu,Ho,sa(Vu,Ru),Wu),Fu=async t=>{Ho.push(await na(t))},ju=Zr({characterize:({call:t})=>()=>t("characterize"),encode:({call:t})=>(e,n)=>t("encode",{recordingId:e,timeslice:n}),record:({call:t})=>async(e,n,r)=>{await t("record",{recordingId:e,sampleRate:n,typedArrays:r},r.map(({buffer:o})=>o))}}),zu=t=>{const e=new Worker(t);return ju(e)},Gu=`(()=>{var e={881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[À-ž]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},507:e=>{var t=function(e){var t,r,n=/\\w+/.exec(e);if(!n)return"an";var s=(r=n[0]).toLowerCase(),o=["honest","hour","hono"];for(t in o)if(0==s.indexOf(o[t]))return"an";if(1==s.length)return"aedhilmnorsx".indexOf(s)>=0?"an":"a";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var a=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<a.length;t++)if(s.match(a[t]))return"a";return r.match(/^U[NK][AIEO]/)?"a":r==r.toUpperCase()?"aedhilmnorsx".indexOf(s[0])>=0?"an":"a":"aeiou".indexOf(s[0])>=0||s.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(881),t=r.n(e),n=r(507),s=r.n(n);const o=(e,r)=>void 0===r?e:r.reduce(((e,r)=>{if("capitalize"===r){const t=e.charAt(0).toUpperCase(),r=e.slice(1);return"".concat(t).concat(r)}return"dashify"===r?t()(e):"prependIndefiniteArticle"===r?"".concat(s()(e)," ").concat(e):e}),e),a=(e,t)=>{const r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,n=[];let s=r.exec(e);for(;null!==s;){const t={modifiers:[],name:s[1]};if(void 0!==s[3]){const e=/\\.[^(]+\\(\\)/g;let r=e.exec(s[2]);for(;null!==r;)t.modifiers.push(r[0].slice(1,-2)),r=e.exec(s[2])}n.push(t),s=r.exec(e)}const a=n.reduce(((e,r)=>e.map((e=>"string"==typeof e?e.split((e=>{const t=e.name+e.modifiers.map((e=>"\\\\.".concat(e,"\\\\(\\\\)"))).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")})(r)).reduce(((e,n,s)=>0===s?[n]:r.name in t?[...e,o(t[r.name],r.modifiers),n]:[...e,e=>o(e[r.name],r.modifiers),n]),[]):[e])).reduce(((e,t)=>[...e,...t]),[])),[e]);return e=>a.reduce(((t,r)=>"string"==typeof r?[...t,r]:[...t,r(e)]),[]).join("")},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=void 0===e.code?void 0:a(e.code,t),n=void 0===e.message?void 0:a(e.message,t);return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=void 0===s&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9)),{cause:a,missingParameters:i}=o?{cause:t,missingParameters:{}}:{cause:s,missingParameters:t},c=void 0===n?new Error:new Error(n(i));return null!==a&&(c.cause=a),void 0!==r&&(c.code=r(i)),void 0!==e.status&&(c.status=e.status),c}},c=-32603,l=-32602,u=i({message:'The requested method called "\${method}" is not supported.',status:-32601}),d=i({message:'The handler of the method called "\${method}" returned no required result.',status:c}),h=i({message:'The handler of the method called "\${method}" returned an unexpected result.',status:c}),f=i({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:l}),m=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,p=536870912,g=1073741824,v=new WeakMap;var w;const y=((e,t)=>r=>{const n=t.get(r);let s=void 0===n?r.size:n<g?n+1:0;if(!r.has(s))return e(r,s);if(r.size<p){for(;r.has(s);)s=Math.floor(Math.random()*g);return e(r,s)}if(r.size>m)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(s);)s=Math.floor(Math.random()*m);return e(r,s)})((w=v,(e,t)=>(w.set(e,t),t)),v),b=((e=>{})(y),new Map),E=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const s=e(n,t),o=y(b);return b.set(o,(()=>{s(),n.close(),b.delete(o)})),{result:o}},disconnect:e=>{let{portId:t}=e;const r=b.get(t);if(void 0===r)throw f({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),M=function(e,t){const r=E(M,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=((e,t)=>async r=>{let{data:{id:n,method:s,params:o}}=r;const a=t[s];try{if(void 0===a)throw u({method:s});const t=void 0===o?a():a(o);if(void 0===t)throw d({method:s});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw h({method:s})}else{if(void 0===r.result)throw h({method:s});const{result:t,transferables:o=[]}=r;e.postMessage({id:n,result:t},o)}}catch(t){const{message:r,status:s=-32603}=t;e.postMessage({error:{code:s,message:r},id:n})}})(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},x=e=>e.reduce(((e,t)=>e+t.length),0),A=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const o=t.shift();if(void 0===o)break e;r[s].push(o),0===s&&(n+=o.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),o=n.length-s;t.push(n.subarray(0,o)),e[r].unshift(n.subarray(o))}))}return r},U=new Map,I=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(U),C=((e,t)=>(r,n,s,o)=>{const a=s>>3,i="subsequent"===n?0:44,c=r.length,l=e(r[0]),u=new ArrayBuffer(l*c*a+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,c,"complete"===n?l:Number.POSITIVE_INFINITY,o),r.forEach(((e,t)=>{let r=i+t*a;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=c*a}}))})),[u]})(x,((e,t,r,n,s)=>{const o=t>>3,a=Math.min(n*r*o,4294967251);e.setUint32(0,1380533830),e.setUint32(4,a+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*o,!0),e.setUint16(32,r*o,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,a,!0)})),N=new Map;M(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=N.get(t);void 0!==n&&(N.delete(t),n.reject(new Error("Another request was made to initiate an encoding.")));const s=U.get(t);if(null!==r){if(void 0===s||x(s.channelDataArrays[0])*(1e3/s.sampleRate)<r)return new Promise(((e,n)=>{N.set(t,{reject:n,resolve:e,timeslice:r})}));const e=A(s.channelDataArrays,Math.ceil(r*(s.sampleRate/1e3))),n=C(e,s.isComplete?"initial":"subsequent",16,s.sampleRate);return s.isComplete=!1,{result:n,transferables:n}}if(void 0!==s){const e=C(s.channelDataArrays,s.isComplete?"complete":"subsequent",16,s.sampleRate);return U.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const s=I(t,r,n),o=N.get(t);if(void 0!==o&&x(s.channelDataArrays[0])*(1e3/r)>=o.timeslice){const e=A(s.channelDataArrays,Math.ceil(o.timeslice*(r/1e3))),n=C(e,s.isComplete?"initial":"subsequent",16,r);s.isComplete=!1,N.delete(t),o.resolve({result:n,transferables:n})}return{result:null}}})})()})();`,qu=new Blob([Gu],{type:"application/javascript; charset=utf-8"}),Xo=URL.createObjectURL(qu),Hu=zu(Xo),Yu=Hu.connect;URL.revokeObjectURL(Xo);function Cr(t=new Date){const e=t.getFullYear().toString(),n=t.getMonth()+1,r=n<10?`0${n}`:n.toString(),o=t.getDate(),s=o<10?`0${o}`:o.toString(),i=t.getHours(),a=i<10?`0${i}`:i.toString(),c=t.getMinutes(),l=c<10?`0${c}`:c.toString(),u=t.getSeconds(),d=u<10?`0${u}`:u.toString();return`${e}${r}${s}${a}${l}${d}`}async function Xu(t,e){return Zo(t,!1,e)}async function Zu(t,e){return Zo(t,!0,e)}async function Zo(t,e,n){let r,o;e?(await Fu(await Yu()),r=new xu(t,{mimeType:"audio/wav"}),o={type:"audio/wav"}):(r=new window.MediaRecorder(t),o={type:window.MediaRecorder.isTypeSupported("audio/mp4; codecs=mp4a")?"audio/mp4; codecs=mp4a":"audio/webm; codecs=opus"});let s=!1,i=[],a;return r.ondataavailable=d=>{d.data&&d.data.size>0&&i.push(d.data)},r.onstop=()=>{const d=new Date,f=new Blob(i,o);i=[],n(`${Cr(a)}-${Cr(d)}`,window.URL.createObjectURL(f))},{start:()=>{r.start(),s=!0,a=new Date},stop:()=>{r.stop(),s=!1},isRecording:()=>s}}function Ku(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Qu(t){let e,n;return e=new ji({}),e.$on("click",t[1]),{c(){q(e.$$.fragment)},m(r,o){z(e,r,o),n=!0},p:y,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Ju(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function ed(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Ju,then:Qu,catch:Ku,blocks:[,,,]};return _e(n=t[0],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&1&&n!==(n=t[0])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function td(t,e,n){let r,o,s,i,a,c;K(t,nn,f=>n(4,r=f)),K(t,tn,f=>n(5,o=f)),K(t,As,f=>n(6,s=f)),K(t,qr,f=>n(0,i=f)),K(t,fe,f=>n(7,a=f)),K(t,yn,f=>n(8,c=f));let l,u;const d=async f=>{!l||!u||(a.suspend(),f.detail.toggleON?(c.disconnect(),c.connect(s),u.start(),l.start()):(l.stop(),u.stop(),c.disconnect(),c.connect(a.destination)),a.resume())};return Le(async()=>{const f=await i,m=s.stream;l=await Zu(f,(h,p)=>{Ct(tn,o=[...o,{id:h,blobUrl:p}],o)}),u=await Xu(m,(h,p)=>{Ct(nn,r=[...r,{id:`${h}_processed`,blobUrl:p}],r)})}),[i,d]}class nd extends ee{constructor(e){super(),J(this,e,td,ed,Q,{})}}function rd(t){let e,n,r,o;return{c(){e=N("a"),n=ae("svg"),r=ae("path"),o=ae("path"),_(r,"d","M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"),_(o,"d","M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"),_(n,"class","icon-download w-6 h-6 text-gray-800 dark:text-white"),_(n,"aria-hidden","true"),_(n,"width",t[2]),_(n,"height",t[2]),_(n,"xmlns","http://www.w3.org/2000/svg"),_(n,"fill","currentColor"),_(n,"viewBox","0 0 20 20"),_(e,"href",t[0]),_(e,"download",t[1]),_(e,"class","svelte-1m7kd68")},m(s,i){F(s,e,i),w(e,n),w(n,r),w(n,o)},p(s,[i]){i&4&&_(n,"width",s[2]),i&4&&_(n,"height",s[2]),i&1&&_(e,"href",s[0]),i&2&&_(e,"download",s[1])},i:y,o:y,d(s){s&&W(e)}}}function od(t,e,n){let{sourceURL:r}=e,{saveAsFileName:o}=e,{size:s=48}=e;return t.$$set=i=>{"sourceURL"in i&&n(0,r=i.sourceURL),"saveAsFileName"in i&&n(1,o=i.saveAsFileName),"size"in i&&n(2,s=i.size)},[r,o,s]}class sd extends ee{constructor(e){super(),J(this,e,od,rd,Q,{sourceURL:0,saveAsFileName:1,size:2})}}function Or(t,e,n){const r=t.slice();return r[1]=e[n],r}function Mr(t){let e,n,r,o,s,i,a;return n=new sd({props:{sourceURL:t[1].blobUrl,saveAsFileName:t[1].id}}),{c(){e=N("div"),q(n.$$.fragment),r=Z(),o=N("audio"),i=Z(),o.controls=!0,qn(o.src,s=t[1].blobUrl)||_(o,"src",s),_(o,"class","svelte-s901k1"),_(e,"class","row svelte-s901k1")},m(c,l){F(c,e,l),z(n,e,null),w(e,r),w(e,o),w(e,i),a=!0},p(c,l){const u={};l&1&&(u.sourceURL=c[1].blobUrl),l&1&&(u.saveAsFileName=c[1].id),n.$set(u),(!a||l&1&&!qn(o.src,s=c[1].blobUrl))&&_(o,"src",s)},i(c){a||(L(n.$$.fragment,c),a=!0)},o(c){D(n.$$.fragment,c),a=!1},d(c){c&&W(e),G(n)}}}function id(t){let e,n,r=Ee(t[0]),o=[];for(let i=0;i<r.length;i+=1)o[i]=Mr(Or(t,r,i));const s=i=>D(o[i],1,1,()=>{o[i]=null});return{c(){e=N("div");for(let i=0;i<o.length;i+=1)o[i].c();_(e,"class","wrapper svelte-s901k1")},m(i,a){F(i,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);n=!0},p(i,[a]){if(a&1){r=Ee(i[0]);let c;for(c=0;c<r.length;c+=1){const l=Or(i,r,c);o[c]?(o[c].p(l,a),L(o[c],1)):(o[c]=Mr(l),o[c].c(),L(o[c],1),o[c].m(e,null))}for(vn(),c=r.length;c<o.length;c+=1)s(c);wn()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)L(o[a]);n=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)D(o[a]);n=!1},d(i){i&&W(e),ut(o,i)}}}function ad(t,e,n){let{records:r}=e;return t.$$set=o=>{"records"in o&&n(0,r=o.records)},[r]}class cd extends ee{constructor(e){super(),J(this,e,ad,id,Q,{records:0})}}function kr(t){let e,n,r,o,s,i,a,c;function l(d){t[2](d)}let u={};return t[0]!==void 0&&(u.records=t[0]),i=new cd({props:u}),ce.push(()=>de(i,"records",l)),{c(){e=N("fieldset"),n=N("legend"),r=ge(t[1]),o=Z(),s=N("div"),q(i.$$.fragment),_(s,"class","wrapper")},m(d,f){F(d,e,f),w(e,n),w(n,r),w(e,o),w(e,s),z(i,s,null),c=!0},p(d,f){(!c||f&2)&&ye(r,d[1]);const m={};!a&&f&1&&(a=!0,m.records=d[0],ue(()=>a=!1)),i.$set(m)},i(d){c||(L(i.$$.fragment,d),c=!0)},o(d){D(i.$$.fragment,d),c=!1},d(d){d&&W(e),G(i)}}}function ld(t){let e,n,r=t[0].length>0&&kr(t);return{c(){r&&r.c(),e=Wr()},m(o,s){r&&r.m(o,s),F(o,e,s),n=!0},p(o,[s]){o[0].length>0?r?(r.p(o,s),s&1&&L(r,1)):(r=kr(o),r.c(),L(r,1),r.m(e.parentNode,e)):r&&(vn(),D(r,1,1,()=>{r=null}),wn())},i(o){n||(L(r),n=!0)},o(o){D(r),n=!1},d(o){o&&W(e),r&&r.d(o)}}}function ud(t,e,n){let{title:r="Recorded Samples"}=e,{records:o}=e;function s(i){o=i,n(0,o)}return t.$$set=i=>{"title"in i&&n(1,r=i.title),"records"in i&&n(0,o=i.records)},[o,r,s]}class Ir extends ee{constructor(e){super(),J(this,e,ud,ld,Q,{title:1,records:0})}}function dd(t){let e,n,r,o,s;return n=new Ir({props:{title:"Raw Samples",records:t[0]}}),o=new Ir({props:{title:"Processed Samples",records:t[1]}}),{c(){e=N("div"),q(n.$$.fragment),r=Z(),q(o.$$.fragment),_(e,"class","wrapper svelte-hqw03b")},m(i,a){F(i,e,a),z(n,e,null),w(e,r),z(o,e,null),s=!0},p(i,[a]){const c={};a&1&&(c.records=i[0]),n.$set(c);const l={};a&2&&(l.records=i[1]),o.$set(l)},i(i){s||(L(n.$$.fragment,i),L(o.$$.fragment,i),s=!0)},o(i){D(n.$$.fragment,i),D(o.$$.fragment,i),s=!1},d(i){i&&W(e),G(n),G(o)}}}function fd(t,e,n){let r,o;return K(t,tn,s=>n(0,r=s)),K(t,nn,s=>n(1,o=s)),[r,o]}class hd extends ee{constructor(e){super(),J(this,e,fd,dd,Q,{})}}function pd(t){let e,n,r,o,s,i,a,c,l,u,d,f,m,h,p,v,g,A,b,k,C,M,O,E,S,P,T,V,x,H,j,U;return a=new Ws({}),u=new Ys({}),m=new yi({}),v=new Mi({}),b=new ri({}),M=new mi({}),S=new $i({}),V=new nd({}),j=new hd({}),{c(){e=N("div"),n=N("fieldset"),r=N("legend"),r.textContent="Contoroller",o=Z(),s=N("div"),i=N("div"),q(a.$$.fragment),c=Z(),l=N("div"),q(u.$$.fragment),d=Z(),f=N("div"),q(m.$$.fragment),h=Z(),p=N("div"),q(v.$$.fragment),g=Z(),A=N("div"),q(b.$$.fragment),k=Z(),C=N("div"),q(M.$$.fragment),O=Z(),E=N("div"),q(S.$$.fragment),P=Z(),T=N("div"),q(V.$$.fragment),x=Z(),H=N("div"),q(j.$$.fragment),_(i,"class","box1"),_(l,"class","box2"),_(f,"class","box3"),_(p,"class","box4"),_(A,"class","box5"),_(C,"class","box6"),_(E,"class","box7"),_(T,"class","box8"),_(H,"class","box9 svelte-134ulw5"),_(s,"class","wrapper svelte-134ulw5")},m(R,Y){F(R,e,Y),w(e,n),w(n,r),w(n,o),w(n,s),w(s,i),z(a,i,null),w(s,c),w(s,l),z(u,l,null),w(s,d),w(s,f),z(m,f,null),w(s,h),w(s,p),z(v,p,null),w(s,g),w(s,A),z(b,A,null),w(s,k),w(s,C),z(M,C,null),w(s,O),w(s,E),z(S,E,null),w(s,P),w(s,T),z(V,T,null),w(s,x),w(s,H),z(j,H,null),U=!0},p:y,i(R){U||(L(a.$$.fragment,R),L(u.$$.fragment,R),L(m.$$.fragment,R),L(v.$$.fragment,R),L(b.$$.fragment,R),L(M.$$.fragment,R),L(S.$$.fragment,R),L(V.$$.fragment,R),L(j.$$.fragment,R),U=!0)},o(R){D(a.$$.fragment,R),D(u.$$.fragment,R),D(m.$$.fragment,R),D(v.$$.fragment,R),D(b.$$.fragment,R),D(M.$$.fragment,R),D(S.$$.fragment,R),D(V.$$.fragment,R),D(j.$$.fragment,R),U=!1},d(R){R&&W(e),G(a),G(u),G(m),G(v),G(b),G(M),G(S),G(V),G(j)}}}function md(t,e,n){let r,o,s,i,a,c,l;return K(t,fe,u=>n(0,r=u)),K(t,jr,u=>n(1,o=u)),K(t,yn,u=>n(2,s=u)),K(t,bn,u=>n(3,i=u)),K(t,An,u=>n(4,a=u)),K(t,zr,u=>n(5,c=u)),K(t,Gr,u=>n(6,l=u)),Le(()=>(Promise.all([l,c]).then(([u,d])=>{a.connect(d),i.connect(d),d.connect(u),u.connect(s),s.connect(r.destination),r.resume(),o.start(r.currentTime)}),()=>{o.stop(r.currentTime),r.suspend(),r.close()})),[]}class gd extends ee{constructor(e){super(),J(this,e,md,pd,Q,{})}}function Tr(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r[6]=n,r}function Sr(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function Rr(t){let e,n,r=t[7]+"",o,s,i;return{c(){e=N("li"),n=N("span"),o=ge(r),i=Z(),_(n,"id",s=""+(t[3]+t[6]+t[9])),_(e,"class","svelte-h5ncdb")},m(a,c){F(a,e,c),w(e,n),w(n,o),w(e,i)},p(a,c){c&2&&r!==(r=a[7]+"")&&ye(o,r),c&2&&s!==(s=""+(a[3]+a[6]+a[9]))&&_(n,"id",s)},d(a){a&&W(e)}}}function Lr(t){let e,n,r,o=t[3]+"",s,i,a,c,l,u=Ee(t[4]),d=[];for(let f=0;f<u.length;f+=1)d[f]=Rr(Sr(t,u,f));return{c(){e=N("div"),n=N("fieldset"),r=N("legend"),s=ge(o),i=Z(),a=N("div"),c=N("ul");for(let f=0;f<d.length;f+=1)d[f].c();l=Z(),_(c,"class","svelte-h5ncdb"),_(a,"class","selectedField"),_(n,"class","svelte-h5ncdb"),_(e,"class","col")},m(f,m){F(f,e,m),w(e,n),w(n,r),w(r,s),w(n,i),w(n,a),w(a,c);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(c,null);w(e,l)},p(f,m){if(m&2&&o!==(o=f[3]+"")&&ye(s,o),m&2){u=Ee(f[4]);let h;for(h=0;h<u.length;h+=1){const p=Sr(f,u,h);d[h]?d[h].p(p,m):(d[h]=Rr(p),d[h].c(),d[h].m(c,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=u.length}},d(f){f&&W(e),ut(d,f)}}}function _d(t){let e,n,r,o,s,i,a=Ee(t[1]),c=[];for(let l=0;l<a.length;l+=1)c[l]=Lr(Tr(t,a,l));return{c(){e=N("fieldset"),n=N("legend"),r=ge(t[0]),o=Z(),s=N("div");for(let l=0;l<c.length;l+=1)c[l].c();_(s,"class",i="wrapper "+t[2]+" svelte-h5ncdb"),_(e,"class","svelte-h5ncdb")},m(l,u){F(l,e,u),w(e,n),w(n,r),w(e,o),w(e,s);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(s,null)},p(l,[u]){if(u&1&&ye(r,l[0]),u&2){a=Ee(l[1]);let d;for(d=0;d<a.length;d+=1){const f=Tr(l,a,d);c[d]?c[d].p(f,u):(c[d]=Lr(f),c[d].c(),c[d].m(s,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}u&4&&i!==(i="wrapper "+l[2]+" svelte-h5ncdb")&&_(s,"class",i)},i:y,o:y,d(l){l&&W(e),ut(c,l)}}}function vd(t,e,n){let{title:r}=e,{categolizedList:o}=e,s="";return Le(()=>{o.size===3?n(2,s="col3"):o.size===2&&n(2,s="col2")}),t.$$set=i=>{"title"in i&&n(0,r=i.title),"categolizedList"in i&&n(1,o=i.categolizedList)},[r,o,s]}class wd extends ee{constructor(e){super(),J(this,e,vd,_d,Q,{title:0,categolizedList:1})}}function bd(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function yd(t){let e,n;return e=new wd({props:{title:"Supported Media Constraints",categolizedList:t[1]}}),{c(){q(e.$$.fragment)},m(r,o){z(e,r,o),n=!0},p(r,o){const s={};o&1&&(s.categolizedList=r[1]),e.$set(s)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Ed(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Ad(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Ed,then:yd,catch:bd,value:1,blocks:[,,,]};return _e(n=t[0],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&1&&n!==(n=t[0])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function Nd(t,e,n){let r;return K(t,ys,o=>n(0,r=o)),[r]}class Cd extends ee{constructor(e){super(),J(this,e,Nd,Ad,Q,{})}}function Pr(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1],r[12]=n,r}function Dr(t,e,n){const r=t.slice();return r[13]=e[n],r[15]=n,r}function Od(t){let e,n,r,o,s=!1,i,a,c;return i=mn(t[6][2]),{c(){e=N("input"),_(e,"type","radio"),_(e,"name",n=t[9]),_(e,"id",r=""+(t[9]+t[12]+t[15])),e.__value=o=t[13].deviceId,Se(e,e.__value),i.p(e)},m(l,u){F(l,e,u),e.checked=e.__value===t[1],a||(c=Ue(e,"change",t[8]),a=!0)},p(l,u){u&8&&n!==(n=l[9])&&_(e,"name",n),u&8&&r!==(r=""+(l[9]+l[12]+l[15]))&&_(e,"id",r),u&8&&o!==(o=l[13].deviceId)&&(e.__value=o,Se(e,e.__value),s=!0),(s||u&10)&&(e.checked=e.__value===l[1])},d(l){l&&W(e),i.r(),a=!1,c()}}}function Md(t){let e,n,r,o,s=!1,i,a,c;return i=mn(t[6][1]),{c(){e=N("input"),_(e,"type","radio"),_(e,"name",n=t[9]),_(e,"id",r=""+(t[9]+t[12]+t[15])),e.__value=o=t[13].deviceId,Se(e,e.__value),i.p(e)},m(l,u){F(l,e,u),e.checked=e.__value===t[2],a||(c=Ue(e,"change",t[7]),a=!0)},p(l,u){u&8&&n!==(n=l[9])&&_(e,"name",n),u&8&&r!==(r=""+(l[9]+l[12]+l[15]))&&_(e,"id",r),u&8&&o!==(o=l[13].deviceId)&&(e.__value=o,Se(e,e.__value),s=!0),(s||u&12)&&(e.checked=e.__value===l[2])},d(l){l&&W(e),i.r(),a=!1,c()}}}function kd(t){let e,n,r,o,s=!1,i,a,c;return i=mn(t[6][0]),{c(){e=N("input"),_(e,"type","radio"),_(e,"name",n=t[9]),_(e,"id",r=""+(t[9]+t[12]+t[15])),e.__value=o=t[13].deviceId,Se(e,e.__value),i.p(e)},m(l,u){F(l,e,u),e.checked=e.__value===t[0],a||(c=Ue(e,"change",t[5]),a=!0)},p(l,u){u&8&&n!==(n=l[9])&&_(e,"name",n),u&8&&r!==(r=""+(l[9]+l[12]+l[15]))&&_(e,"id",r),u&8&&o!==(o=l[13].deviceId)&&(e.__value=o,Se(e,e.__value),s=!0),(s||u&9)&&(e.checked=e.__value===l[0])},d(l){l&&W(e),i.r(),a=!1,c()}}}function Ur(t){let e,n,r,o=t[13].label+"",s,i,a;function c(d,f){return d[9]==="audioinput"?kd:d[9]==="videoinput"?Md:Od}let l=c(t),u=l(t);return{c(){e=N("li"),u.c(),n=Z(),r=N("label"),s=ge(o),a=Z(),_(r,"for",i=""+(t[9]+t[12]+t[15])),_(r,"class","svelte-1n3svoq"),_(e,"class","svelte-1n3svoq")},m(d,f){F(d,e,f),u.m(e,null),w(e,n),w(e,r),w(r,s),w(e,a)},p(d,f){l===(l=c(d))&&u?u.p(d,f):(u.d(1),u=l(d),u&&(u.c(),u.m(e,n))),f&8&&o!==(o=d[13].label+"")&&ye(s,o),f&8&&i!==(i=""+(d[9]+d[12]+d[15]))&&_(r,"for",i)},d(d){d&&W(e),u.d()}}}function $r(t){let e,n,r,o=t[9]+"",s,i,a,c,l,u=Ee(t[10]),d=[];for(let f=0;f<u.length;f+=1)d[f]=Ur(Dr(t,u,f));return{c(){e=N("div"),n=N("fieldset"),r=N("legend"),s=ge(o),i=Z(),a=N("div"),c=N("ul");for(let f=0;f<d.length;f+=1)d[f].c();l=Z(),_(c,"class","svelte-1n3svoq"),_(a,"class","selectedField"),_(n,"class","listBox svelte-1n3svoq"),_(e,"class","col")},m(f,m){F(f,e,m),w(e,n),w(n,r),w(r,s),w(n,i),w(n,a),w(a,c);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(c,null);w(e,l)},p(f,m){if(m&8&&o!==(o=f[9]+"")&&ye(s,o),m&15){u=Ee(f[10]);let h;for(h=0;h<u.length;h+=1){const p=Dr(f,u,h);d[h]?d[h].p(p,m):(d[h]=Ur(p),d[h].c(),d[h].m(c,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=u.length}},d(f){f&&W(e),ut(d,f)}}}function Id(t){let e,n,r,o,s,i=Ee(t[3]),a=[];for(let c=0;c<i.length;c+=1)a[c]=$r(Pr(t,i,c));return{c(){e=N("fieldset"),n=N("legend"),n.textContent="Media Devices",r=Z(),o=N("div");for(let c=0;c<a.length;c+=1)a[c].c();_(o,"class",s="wrapper "+t[4]+" svelte-1n3svoq"),_(e,"class","svelte-1n3svoq")},m(c,l){F(c,e,l),w(e,n),w(e,r),w(e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,null)},p(c,[l]){if(l&15){i=Ee(c[3]);let u;for(u=0;u<i.length;u+=1){const d=Pr(c,i,u);a[u]?a[u].p(d,l):(a[u]=$r(d),a[u].c(),a[u].m(o,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&16&&s!==(s="wrapper "+c[4]+" svelte-1n3svoq")&&_(o,"class",s)},i:y,o:y,d(c){c&&W(e),ut(a,c)}}}function Td(t,e,n){let{devices:r}=e,{audioInputDeviceId:o=""}=e,{audioOutputDeviceId:s=""}=e,{videoInputDeviceId:i=""}=e,a="";Le(()=>{r.size===3?n(4,a="col3"):r.size===2&&n(4,a="col2")});const c=[[],[],[]];function l(){o=this.__value,n(0,o)}function u(){i=this.__value,n(2,i)}function d(){s=this.__value,n(1,s)}return t.$$set=f=>{"devices"in f&&n(3,r=f.devices),"audioInputDeviceId"in f&&n(0,o=f.audioInputDeviceId),"audioOutputDeviceId"in f&&n(1,s=f.audioOutputDeviceId),"videoInputDeviceId"in f&&n(2,i=f.videoInputDeviceId)},[o,s,i,r,a,l,c,u,d]}class Sd extends ee{constructor(e){super(),J(this,e,Td,Id,Q,{devices:3,audioInputDeviceId:0,audioOutputDeviceId:1,videoInputDeviceId:2})}}function Rd(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Ld(t){let e,n,r,o,s;function i(u){t[4](u)}function a(u){t[5](u)}function c(u){t[6](u)}let l={devices:t[9]};return t[0]!==void 0&&(l.audioInputDeviceId=t[0]),t[2]!==void 0&&(l.audioOutputDeviceId=t[2]),t[1]!==void 0&&(l.videoInputDeviceId=t[1]),e=new Sd({props:l}),ce.push(()=>de(e,"audioInputDeviceId",i)),ce.push(()=>de(e,"audioOutputDeviceId",a)),ce.push(()=>de(e,"videoInputDeviceId",c)),{c(){q(e.$$.fragment)},m(u,d){z(e,u,d),s=!0},p(u,d){const f={};d&8&&(f.devices=u[9]),!n&&d&1&&(n=!0,f.audioInputDeviceId=u[0],ue(()=>n=!1)),!r&&d&4&&(r=!0,f.audioOutputDeviceId=u[2],ue(()=>r=!1)),!o&&d&2&&(o=!0,f.videoInputDeviceId=u[1],ue(()=>o=!1)),e.$set(f)},i(u){s||(L(e.$$.fragment,u),s=!0)},o(u){D(e.$$.fragment,u),s=!1},d(u){G(e,u)}}}function Pd(t){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Dd(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Pd,then:Ld,catch:Rd,value:9,blocks:[,,,]};return _e(n=t[3],o),{c(){e=N("div"),o.block.c()},m(s,i){F(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(s,[i]){t=s,o.ctx=t,i&8&&n!==(n=t[3])&&_e(n,o)||tt(o,t,i)},i(s){r||(L(o.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const a=o.blocks[i];D(a)}r=!1},d(s){s&&W(e),o.block.d(),o.token=null,o=null}}}function Ud(t,e,n){let r,o,s;K(t,En,f=>n(3,r=f)),K(t,Kn,f=>n(7,o=f)),K(t,Ot,f=>n(8,s=f));let i="",a="",c="";Le(async()=>{const f=await r;for(const[m,h]of f.entries())for(let p=0;p<h.length;p++)if(h[p].label.includes("既定 - "))switch(m){case"audioinput":n(0,i=h[p].deviceId);break;case"videoinput":n(1,c=h[p].deviceId);break;case"audiooutput":n(2,a=h[p].deviceId);break}});function l(f){i=f,n(0,i)}function u(f){a=f,n(2,a)}function d(f){c=f,n(1,c)}return t.$$.update=()=>{t.$$.dirty&3&&(Ct(Ot,s=i,s),Ct(Kn,o=c,o))},[i,c,a,r,l,u,d]}class $d extends ee{constructor(e){super(),J(this,e,Ud,Dd,Q,{})}}function Bd(t){let e,n,r,o,s,i,a,c,l,u,d,f,m;return a=new $d({}),l=new Cd({}),f=new gd({}),{c(){e=N("fieldset"),n=N("legend"),n.textContent="RNNoiseExample",r=Z(),o=N("h1"),o.textContent="Noise Suppression Demo with RNNoise-WASM",s=Z(),i=N("div"),q(a.$$.fragment),c=Z(),q(l.$$.fragment),u=Z(),d=N("div"),q(f.$$.fragment),_(i,"class","wrapper svelte-1095okz")},m(h,p){F(h,e,p),w(e,n),w(e,r),w(e,o),w(e,s),w(e,i),z(a,i,null),w(i,c),z(l,i,null),w(e,u),w(e,d),z(f,d,null),m=!0},p:y,i(h){m||(L(a.$$.fragment,h),L(l.$$.fragment,h),L(f.$$.fragment,h),m=!0)},o(h){D(a.$$.fragment,h),D(l.$$.fragment,h),D(f.$$.fragment,h),m=!1},d(h){h&&W(e),G(a),G(l),G(f)}}}class Vd extends ee{constructor(e){super(),J(this,e,null,Bd,Q,{})}}function Wd(t){let e,n,r;return n=new Vd({}),{c(){e=N("main"),q(n.$$.fragment)},m(o,s){F(o,e,s),z(n,e,null),r=!0},p:y,i(o){r||(L(n.$$.fragment,o),r=!0)},o(o){D(n.$$.fragment,o),r=!1},d(o){o&&W(e),G(n)}}}class xd extends ee{constructor(e){super(),J(this,e,null,Wd,Q,{})}}new xd({target:document.getElementById("app")});
